{% load dialogos_tags %}
{% load bootstrap_tags %}
{% load i18n %}
{% verbatim %}
<div id="geogig" ng-controller="geogigController">
  <div id="geogig-tab">
    <div id="geogig-message">
      <i class="fa fa-spinner fa-spin"></i>
      <h4>Pulling latest GeoGig data.</h4>
    </div>
    <div id="geogig-stats" style="display: none">
      <table class="table table-bordered">
        <tr>
          <td class="table-center">
            <div class="stat-title">total contributions</div>
            <div class="stat-value">{{ stats.totalCommits | number}}</div>
          </td>
          <td class="table-center">
            <div class="stat-title">total contributors</div>
            <div class="stat-value">{{ stats.Authors.totalAuthors || 0 | number}}</div>
          </td>
        </tr>
      </table>
      <div ng-repeat-start="commit in commits">
        <div class="commit" id="commit-{{ commit.id }}">
          <span class="label label-primary pull-right">{{ commit.id | limitTo: 10 }}</span> 
          <div class="commit-message">{{ commit.message }}</div>
          <div class="commit-byline">
            <a ng-href="/storyteller/{{ commit.author.name }}" target="_blank" rel="noopener">
                <span class="commit-author">{{commit.author.name || 'Unknown'}}</span>
                <span class="commit-timestamp">{{ commit.commitTimeSince }}</span>
              </a>
          </div>
        </div>
      </div>
      <span ng-repeat-end></span>
    </div>
  </div>
</div>
{% endverbatim %}
