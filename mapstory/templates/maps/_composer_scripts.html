{% load staticfiles %}
<!-- compiled JavaScript -->
{% comment %}
    @todo generate this from StoryTools
{% endcomment %}

        <script src="{{STATIC_URL}}vendor/jquery/dist/jquery.min.js"></script>
        <script src="{{STATIC_URL}}vendor/angular/angular.js" ></script>
        <script src="{{STATIC_URL}}vendor/angular-sortable-view/src/angular-sortable-view.js"></script>
        <script src="{{STATIC_URL}}vendor/nouislider/distribute/jquery.nouislider.min.js" type="text/javascript"></script>
        <script src="{{STATIC_URL}}vendor/angular-bootstrap/ui-bootstrap-tpls.js"></script>
        <script src="{{STATIC_URL}}vendor/angular-bootstrap-colorpicker/js/bootstrap-colorpicker-module.js"></script>
        <script src="{{ STATIC_URL }}vendor/jquery.cookie/jquery.cookie.js"></script>

        <script>

                {% if HAYSTACK_SEARCH %}
                    SEARCH_URL = '{% url 'api_get_search' api_name='api' resource_name='base' %}'
                    {% else %}
                    SEARCH_URL = '{% url 'api_dispatch_list' api_name='api' resource_name='base' %}'
                 {% endif %}

        </script>


        <script src="{{STATIC_URL}}mapstory/js/story-tools/ol.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-core-tpls.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-edit-tpls.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-core.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-edit.min.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-core-ng.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-edit-ng.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/ows.min.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-mapstory.js"></script>
        <script src="{{STATIC_URL}}mapstory/js/tools/composer.js"></script>

        <script src="{{ STATIC_URL }}lib/js/jquery.dataTables.js"></script>
        <script src="{{ STATIC_URL }}lib/js/jquery.timeago.js"></script>
        <script src="{{ STATIC_URL }}lib/js/jquery.ajaxprogress.js"></script>
        <script src="{{ STATIC_URL }}lib/js/jquery.ajaxQueue.js"></script>
        <script src="{{ STATIC_URL }}lib/js/jquery-ui.custom.js"></script>
        <script src="{{ STATIC_URL }}lib/js/jquery.raty.js"></script>
        <script src="{{ STATIC_URL }}lib/js/bootstrap.min.js"></script>
        <script src="{{ STATIC_URL }}lib/js/moment-with-locales.min.js"></script>
        <script src="{{ STATIC_URL }}lib/js/bootstrap-datetimepicker.min.js"></script>
        <script src="{{ STATIC_URL }}lib/js/json2.js"></script>
        <script src="{{ STATIC_URL }}lib/js/select2.js"></script>
        <script src="{{ STATIC_URL }}lib/js/waypoints.js"></script>

        <script src="{{ STATIC_URL }}geonode/js/utils/utils.js"></script>
        <script src="{{ STATIC_URL }}geonode/js/base/base.js"></script>

    {% include 'autocomplete_light/static.html' %}
        <script type="text/javascript" src="{% url 'django.views.i18n.javascript_catalog' %}"></script>
    {% block extra_script %}{% endblock extra_script %}

         <script type="text/javascript">


          CATEGORIES_ENDPOINT = '{% url 'api_dispatch_list' api_name='api' resource_name='categories' %}';
          KEYWORDS_ENDPOINT = '{% url 'api_dispatch_list' api_name='api' resource_name='keywords' %}';
          REGIONS_ENDPOINT = '{% url 'api_dispatch_list' api_name='api' resource_name='regions' %}';
          HAYSTACK_SEARCH = "{{ HAYSTACK_SEARCH }}".toLowerCase() === "true";
          HAYSTACK_FACET_COUNTS = "{{ HAYSTACK_FACET_COUNTS }}".toLowerCase() === "true";
          CLIENT_RESULTS_LIMIT = {{ CLIENT_RESULTS_LIMIT }};
          AUTOCOMPLETE_URL_RESOURCEBASE = '{% url "autocomplete_light_autocomplete" "ResourceBaseAutocomplete" %}';
          AUTOCOMPLETE_URL_REGION = '{% url "autocomplete_light_autocomplete" "RegionAutocomplete" %}';
          AUTOCOMPLETE_URL_KEYWORD = '{% url "autocomplete_light_autocomplete" "TagAutocomplete" %}';


        </script>

        <script src="{{STATIC_URL}}mapstory/js/tools/search.js"></script>


{% include "branding/maps_composer_scripts_comment.html" %}