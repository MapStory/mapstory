!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),(e.storytools||(e.storytools={})).core=t()}}(function(){var define,module,exports;return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};e[s][0].call(d.exports,function(t){var i=e[s][1][t];return o(i?i:t)},d,d.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){i.time=t("./time/controls"),i.maps=t("./time/maps"),i.maps.pins=t("./time/pins"),i.maps.boxes=t("./time/boxes"),i.utils=t("./time/utils")},{"./time/boxes":2,"./time/controls":3,"./time/maps":5,"./time/pins":7,"./time/utils":9}],2:[function(t,e,i){function n(t){this.title=t.title||null,this.start_time=t.start_time||null,this.end_time=t.end_time||null,this.description=t.description||null,this.range=t.range||null,this.data=t.data||null,this.layerIds=t.layerIds||null,this.center=t.center||null,this.resolution=t.resolution||null,this.allowPan=t.allowPan,this.allowZoom=t.allowZoom,this.speed=t.speed,this._offset=0,null===this.range?null!==this.data&&(this.range=r.createRange(this.data[0],this.data[this.data.length-1])):this._steps=null===this.data?Math.floor(this.range.width()/this.speed.interval)+1:this.data.length}function o(t,e){var i,n,o;for(i=0,n=t.length;n>i;i++)if(o=t[i],e>=o._offset){if(!(n>i+1))break;if(e<t[i+1]._offset)break}return o}var r=t("./utils");n.prototype.getSteps=function(){return this._steps},n.prototype.getRange=function(){return this.range},n.prototype.getIndex=function(t){return this.data?r.find(this.data,t):Math.floor(Math.min(this.range.width(),Math.max(0,t-this.range.start))/this.speed.interval)},n.prototype.getDate=function(t){return t-=this._offset,this.data?this.data[t]:this.range.start+t*this.speed.interval},n.prototype.getProperties=function(){return{title:this.title,description:this.description}},n.prototype.setProperties=function(t){this.title=t.title,this.description=t.description,this.start_time=t.start_time,this.end_time=t.end_time},i.BoxModel=function(t){function e(t){var e=0;i=t.map(function(t){var i=new n(t);return i._offset=e,e+=i.getSteps(),i}),s=r.computeRange(i,"range"),a=e}var i,s,a;e(t),this.getRange=function(){return s},this.getSteps=function(){return a},this.getRangeAt=function(t,e){var n=o(i,t),s=o(i,e);return r.createRange(n.getDate(t),s.getDate(e))},this.getIndex=function(t){var e,n=0;if(t<i[0].getRange().start)return 0;for(e=0;e<i.length;e++){var o=i[e],r=o.getRange();if(t>=r.start&&t<=r.end){n+=o.getIndex(t);break}n+=o.getSteps()}return n},this.setRange=function(t){if(1==i.length){if(r.isRangeLike(t))throw new Error("not supported yet");i[0].data=t,i[0].range=r.computeRange(t)}else console.log("more than one story box to update range with!");e(i)},this.update=function(){}},i.findBox=o,i.Box=n},{"./utils":9}],3:[function(t,e,i){function n(t,e,i){function n(){return s.createRange(i.getWindow())}function o(t,e,i){if(!y){y=!0;try{t(e,i)}finally{y=!1}}}function r(e){var n="cumulative"===t.mode?e.end:e.center();i.moveTo(n),p(e)}function a(n){if(!i.isWindowMax()){var o=n.center(),r=t.getIndex(o);"cumulative"===t.mode?e.growTo(r):e.center(r),i.setTime(o),p(e.getRange())}}function h(t){s.rangesEqual(t,v)||(t=s.createRange(t),t.width()!==v.width()?i.moveToCurrentTime():a(t),v=t)}function u(){null!==w&&window.clearTimeout(w),w=null}function d(i){w=null;var n;n="cumulative"===t.mode?e.grow(i):e.move(i),n&&(g.loop?e.jump(0):g.stop()),r(e.getRange()),b&&l()}function l(){if(b){var t=1e3;$.when.apply($,D).then(function(){b&&(w=window.setTimeout(d,t,1))},function(){0===arguments.length&&b&&null===w?w=window.setTimeout(d,t,1):g.stop()}),D=[]}}function c(){m("running"),d(1)}function p(t){"undefined"==typeof t&&(t=e.getRange()),f("rangeChange",t)}function m(t){f("stateChange",t)}function f(t,e){_.event(t).publish(e)}this.model=t,this.slider=e,this.timeline=i,this.loop=!1;var g=this,v=n(),y=!1,b=!1,w=null,_=new s.Events,D=[];e.on("rangeChanged",function(t,e){u(),o(r,e),l()}),i.on("rangechanged",function(t){o(h,t)}),this.defer=function(t){D.push(t)},this.getCurrentRange=function(){return e.getRange()},this.update=function(n){t.update(n),e.update(t),i.update(t),window.setTimeout(p,0)},this.start=function(){b||(D=[],b=!0,window.setTimeout(c,0))},this.stop=function(){D=[],b=!1,u(),window.setTimeout(m,0,"stopped")},this.next=function(){u(),window.setTimeout(d,0,1)},this.prev=function(){u(),window.setTimeout(d,0,-1)},this.isStarted=function(){return b},this.on=function(t,e){_.event(t).subscribe(e)}}function o(t){function e(){return i.filter(function(t){return t.in_timeline})}var i=t||[];this.getTimeLineAnnotatons=function(){return e(!0)},this.update=function(t){this.ann=t}}function r(t){var e,i,r,l,c,p,m=new o(t.annotations),f=t.boxes;if("undefined"==typeof f||0===f.length){var g=0,v=null;Array.isArray(t.data)?(v=t.data,i=s.computeRange(t.data)):(g=t.data.interval||s.pickInterval(t.data),i=t.data),f=[{title:"Default Story Chapter",description:"No description.",data:v,range:i,speed:{interval:g,seconds:3}}]}console.log(f),e=new a.TimeModel(t,f,m),r=new h.TimeSlider(t.timeSliderId||"slider",e),l=new u.TimeLine(t.timeLineId||"timeline",e);var y=new n(e,r,l,p);return c=new d.MapController(t,y),y}var s=t("./utils"),a=t("./models"),h=t("./slider"),u=t("./line"),d=t("./maps");i.create=r,i.maps=d,i.utils=s},{"./line":4,"./maps":5,"./models":6,"./slider":8,"./utils":9}],4:[function(t,e,i){var n=t("vis/lib/timeline/Timeline"),o=t("./utils");i.TimeLine=function(t,e){function i(t){var e,i=[],a=t.getRange();a.isEmpty()&&(a=o.createRange(Date.now())),i=t.annotations.getTimeLineAnnotatons().map(function(t){var e=null!=t.start_time?t.start_time:a.start,i=null!=t.end_time?t.end_time:a.end,n=e===i?"box":"range";return{id:t.id,start:e,end:i,content:t.content||t.title,title:t.title,type:n}}),e={min:a.start,max:a.end,start:a.start,end:a.end,height:138,maxHeight:138,showCurrentTime:!1,showCustomTime:!0},null===s?(s=new n(r.get(0),i,e),s.setCurrentTime(a.start)):(s.setOptions(e),s.setItems(i))}var r=$("#"+t),s=null,a=60*(new Date).getTimezoneOffset()*1e3;i(e),s.on("timechanged",function(){s.moveTo(s.getCustomTime(),{animate:!1})}),this.moveTo=function(t){s.moveTo(t,{animate:!1}),this.setTime(t)},this.setTime=function(t){s.setCustomTime(t+a)},this.isWindowMax=function(){return o.rangesEqual(s.getWindow(),e.getRange())},this.moveToCurrentTime=function(){var t=s.getCustomTime().getTime(),i=o.createRange(s.getWindow()).width(),n=e.getRange();t===n.start?s.setWindow(n.start,n.start+i,{animate:!1}):t===n.end?s.setWindow(n.end-i,n.end,{animate:!1}):s.moveTo(t,{animate:!1})},this.getWindow=function(){return s.getWindow()},this.on=function(t,e){s.on(t,e)},this.update=i}},{"./utils":9,"vis/lib/timeline/Timeline":20}],5:[function(t,e,i){function n(t){function e(){var t=0;for(var e in i)t+=i[e];return t}var i={},n=$.Deferred(),o=!1,r={deferred:n,cancel:function(){o=!0;for(var e in i)i[e]=0;n&&n.reject(),t&&t(0)},tileQueued:function(n){if(!o){var r;n instanceof ol.source.TileWMS?r=n.getUrls()[0]:n instanceof ol.source.ImageWMS&&(r=n.getUrl()),i[r]=(i[r]||0)+1,t&&t(e())}},tileLoaded:function(r,s){if(!o){var a;s instanceof ol.source.TileWMS?a=s.getUrls()[0]:s instanceof ol.source.ImageWMS&&(a=s.getUrl()),i[a]-=1;var h=e();t&&t(h),0===h&&n&&n.resolve()}}};return window.setTimeout(function(){0===Object.keys(i).length&&r.cancel()},100),r}function o(t,e){var i=t.get("timeAttribute"),n=t.get("features");if(void 0!==i&&void 0!==n){e=s.createRange(e);var o=[],a=t.getLayer();r(t,function(t,i){e.intersects(i)&&o.push(t)}),a.getSource().clear(!0),a.getSource().addFeatures(o)}}function r(t,e,i){var n,o=t.get("timeAttribute"),r=t.get("endTimeAttribute"),a=t.getLayer();i=i||t.get("features")||a.getSource().getFeatures(),n=r?function(t){var e=t.get(o),i=t.get(r);return s.createRange(e,i)}:function(t){var e=t.get(o);return s.createRange(e,e)},s.visitRanges(i,n,e)}{var s=t("./utils");t("vis/node_modules/moment")}i.readCapabilitiesTimeDimensions=function(t,e){function i(t){if(t.length<2)throw new Error("expected 2 parts for range : "+t);var e=s.createRange(t[0],t[1]);return 3==t.length&&(e.duration=t[2],e=new s.Interval(e)),e}function n(t){var e=t.split("/");return 1==e.length?Date.parse(e[0]):i(e)}function o(t){var i=e?t:t.split(",");if(1==i.length){var o=n(i[0]);return"number"==typeof o?[o]:o}return i.map(n)}var r={};return e===!0?r=t.dimensions&&t.dimensions.time?o(t.dimensions.time.values):void 0:t.value.capability.layer.layer.forEach(function(t){t.dimension&&(r[t.name]=o(t.extent[0].value))}),r},i.computeVectorRange=function(t,e){var i=t.get("timeAttribute"),n=t.get("endTimeAttribute"),o=t.getLayer();return e=e||t.get("features")||o.getSource().getFeatures(),s.computeRange(e,function(t){return s.createRange(t.get(i),t.get(n))})},i.filterVectorLayer=o,i.MapController=function(t,e){function i(t){var e,i=function(t){var i=a;i&&i.tileLoaded(t,e)},n=function(){var t=a;t&&t.tileQueued(e)};t instanceof ol.layer.Tile&&t.getSource()instanceof ol.source.TileWMS?(e=t.getSource(),e.on("tileloadstart",n),e.on("tileloadend",i),e.on("tileloaderror",i)):t instanceof ol.layer.Image&&t.getSource()instanceof ol.source.ImageWMS&&(e=t.getSource(),e.on("imageloadstart",n),e.on("imageloadend",i),e.on("imageloaderror",i))}function r(){return null!==a&&a.cancel(),a=new n(h)}function s(t){var i=u.getStoryLayers(),n=new Date(t.start).toISOString();t.start!=t.end&&(n+="/"+new Date(t.end).toISOString());for(var s=0;s<i.getLength();s++){var a=i.item(s),h=a.getLayer();h instanceof ol.layer.Tile&&h.getSource()instanceof ol.source.TileWMS||h instanceof ol.layer.Image&&h.getSource()instanceof ol.source.ImageWMS?a.get("times")&&h.getSource().updateParams({TIME:n}):h instanceof ol.layer.Vector&&o(a,t)}o(u.storyPinsLayer,t),i.getLength()>1&&e.defer(r().deferred)}var a=null,h=t.tileStatusCallback,u=t.storyMap,d=this;d.layers={},u.getStoryLayers().on("add",function(t){var e=t.element,n=e.get("id");d.layers[n]!==!0&&(i(e.getLayer()),d.layers[n]=!0)}),u.getStoryLayers().forEach(function(t){var e=t.get("id");void 0!==e&&d.layers[e]!==!0&&(i(t.getLayer()),d.layers[e]=!0)}),e.on("rangeChange",s)}},{"./utils":9,"vis/node_modules/moment":36}],6:[function(t,e,i){var n=t("./utils"),o=t("./boxes").BoxModel;i.TimeModel=function(t,e,i){function r(t){t.hasOwnProperty("fixed")&&(this.fixed=t.fixed),t.hasOwnProperty("mode")&&void 0!==t.mode&&(this.mode=t.mode),t.hasOwnProperty("annotations")&&this.annotations.update(t.annotations),t.hasOwnProperty("data")&&s.setRange(t.data)}var s=(new n.Events,new o(e));this.annotations=i,this.fixed=!1,this.mode="instant",r.call(this,t),this.getRange=function(){return s.getRange()},this.getTotalRange=function(){throw Error("not implemented")},this.update=r,this.getSteps=function(){return s.getSteps()},this.getIndex=function(t){return s.getIndex(t)},this.getRangeAt=function(t,e){return s.getRangeAt(t,e)}}},{"./boxes":2,"./utils":9}],7:[function(t,e,i){function n(t,e){var i=t[e];return"undefined"!=typeof i?i*=1e3:null}var o=new ol.format.GeoJSON,r=function(t,e){if(ol.Feature.call(this,t),t){if(t.the_geom){var i=t.the_geom;("string"==typeof i||"type"in i)&&(i=o.readGeometry(i,{featureProjection:e})),this.setGeometry(i),delete t.the_geom}this.setId(t.id)}};r.prototype=Object.create(ol.Feature.prototype),r.prototype.constructor=r,["id","start_time","end_time","content","title","in_timeline","in_map"].forEach(function(t){Object.defineProperty(r.prototype,t,{get:function(){var e=this.get(t);return"undefined"==typeof e?null:e},set:function(e){this.set(t,e)}})}),i.loadFromGeoJSON=function(t,e){return e&&(e=ol.proj.get(e)),t.features.map(function(t){var i=t.properties;return i.the_geom=t.geometry,i.id=t.id,i.start_time=n(i,"start_time"),i.end_time=n(i,"end_time"),new r(i,e)})},i.StoryPin=r},{}],8:[function(t,e,i){i.TimeSlider=function(t,e){function i(t){var e={step:1,start:[0,0],animate:!1,connect:!0,range:{min:0,max:t.getSteps()-1},behaviour:"drag-snap"};if(h=!1,"cumulative"===t.mode)h=!0,e.connect="lower";else if("instant"===t.mode)h=!0,e.connect=!1;else{if("range"!==t.mode)throw"invalid model mode : "+t.mode;t.fixed&&(e.behaviour="drag-fixed")}if(d){var i=n();h?e.start=i[0]:(i[0]===i[1]&&(i[1]+=1),e.start=i)}else h&&(e.start=0);u.noUiSlider(e,d),d||u.bind("slide",function(){var t=o();u.trigger("rangeChanged",t)}),d=!0}function n(){var t=u.val();return Array.isArray(t)?t=t.map(function(t){return parseInt(t,10)}):(t=parseInt(t,10),t=["cumulative"===e.mode?0:t,t]),t}function o(){var t=n();return e.getRangeAt(t[0],t[1])}function r(){var t=n();return t[1]-t[0]}function s(t){var i=n();return t?0===i[0]:i[1]===e.getSteps()-1}function a(t){u.val(h?t[1]:t)}var h,u=$("#"+t),d=!1;i(e),this.slider=u,this.on=function(){u.on.apply(u,arguments)},this.getSliderRangeInternal=n,this.center=function(t){var e=Math.floor(r()/2);a([t-e,t+e])},this.move=function(t){var e=n();return e[0]+=t,e[1]+=t,a(e),s(0>t)},this.grow=function(t){var e=n();return e[1]+=t,a(e),s(!1)},this.growTo=function(t){var e=n();return e[1]=t,a(e),s(!1)},this.jump=function(t){a([t,t+r()])},this.getRange=o,this.update=i}},{}],9:[function(t,e,i){function n(t,e){if(null==e)throw new Error("invalid time argument");return(null!=t.start?e>=t.start:!0)&&(null!=t.end?e<t.end:!0)||t.start===t.end&&e===t.start}function o(t,e){if(isNaN(t)||isNaN(e))throw new Error("invalid start and/or end");this.start=t,this.end=e}var r=t("vis/node_modules/moment");getTime=function(t){var e=typeof t;if("number"===e)return t;if(t instanceof Date)return t.getTime();if("string"===e)return Date.parse(t);if(null==t)return null;if(isRangeLike(t))return getTime(null!=t.start?t.start:t.end);throw new Error("cannot call getTime with "+e+", : "+t)},isRangeLike=function(t){return null!=t&&(t.hasOwnProperty("start")||t.hasOwnProperty("end"))},i.isRangeLike=isRangeLike,i.createRange=function(t,e){if(1===arguments.length){var i=t;isRangeLike(i)?(t=i.start,e=i.end):e=t}if(null!=t&&null!=e&&t>e)throw new Error("start > end");return new o(getTime(t),getTime(e))},i.rangesEqual=function(t,e){return getTime(t.start)===getTime(e.start)&&getTime(t.end)===getTime(e.end)},i.parseISODuration=function(t){var e=i.isoDurationToMoment(t);return r.duration(e).asMilliseconds()},i.Interval=function(t,e,n){if("object"==typeof t){var r=t;t=r.start,e=r.end,n=r.duration}if(t===e)throw new Error("interval should have width");o.call(this,t,e),this.duration=n,this.interval=i.parseISODuration(this.duration),this.offset=i.createOffsetter(this)},o.prototype.extend=function(t){isRangeLike(t)||(t=i.createRange(t));var e=getTime(t.start),n=getTime(t.end);null==e&&(e=n),null==n&&(n=e),null!=e&&(this.start=null==this.start?e:Math.min(this.start,e)),null!=n&&(this.end=null==this.end?n:Math.max(this.end,n))},o.prototype.intersects=function(t){if(isRangeLike(t)){var e=null==t.start?Number.MIN_VALUE:t.start,i=null==t.end?Number.MAX_VALUE:t.end;return n(this,e)||n(this,i)||e<=this.start&&i>=this.end}return n(this,getTime(t))},o.prototype.toString=function(){return new Date(this.start).toUTCString()+" : "+new Date(this.end).toUTCString()},o.prototype.center=function(){return Math.floor(this.start+(this.end-this.start)/2)},o.prototype.width=function(){return this.end-this.start},o.prototype.isEmpty=function(){return null==this.end&&null==this.start},i.Range=o,i.computeRange=function(t,e){var n=new o(null,null);return i.visitRanges(t,e,function(t,e){n.extend(e)}),null==n.start&&(n.start=n.end),null==n.end&&(n.end=n.start),n},i.visitRanges=function(t,e,n){var o;o="string"==typeof e?function(t){return t[e]}:"function"==typeof e?e:function(t){return isRangeLike(t)?t:i.createRange(t)};for(var r=0,s=t.length;s>r;r++){var a=t[r];n(a,o(a))}},i.binarySearch=function(t,e){var i,n=0,o=t.length-1,r=o+n/2|0;if(e<t[0])return 0;if(e>t[o])return t.length-1;for(;(i=t[r])!==e&&o>n;){if(e>i){if(e<t[r+1])return r}else if(i>e){if(e>t[r-1])return r-1;o=r-1}r=o+n/2|0}return r},i.find=function(t,e){if(e<t[0])return 0;for(var i=0,n=t.length-1;n>i;i++)if(e>=t[i]&&e<t[i+1])return i;return t.length-1},i.Events=function(){function t(t){var i,n=t&&e[t];return n||(i=jQuery.Callbacks(),n={publish:i.fire,subscribe:i.add,unsubscribe:i.remove},t&&(e[t]=n)),n}var e={};return{event:t}},i.pickInterval=function(t){var e=[r.duration(1,"seconds").asMilliseconds(),r.duration(1,"minutes").asMilliseconds(),r.duration(1,"hours").asMilliseconds(),r.duration(1,"days").asMilliseconds(),r.duration(1,"weeks").asMilliseconds(),r.duration(1,"months").asMilliseconds(),r.duration(1,"years").asMilliseconds()];return e[Math.max(i.find(e,t.width())-1,0)]},i.getTime=getTime,i.isoDurationToMoment=function(t){function e(t,e){function n(t,i){e&&"M"==i&&(i="m");var n=a[i];if("undefined"==typeof n)throw Error("unknown duration specifier : "+i);r[n]=parseFloat(t)}for(var o;null!==(o=i.exec(t));)n(o[1],o[2])}if("P"!=t.charAt(0))throw new Error("expected P as starting duration : "+t);var i=/(\d+)(\w)/g,n=null,o=null,r={};if(t=t.substring(1),t.indexOf("T")>=0){var s=t.split("T");n=s[0],o=s[1]}else n=t;var a={Y:"years",M:"months",W:"weeks",D:"days",H:"hours",m:"minutes",S:"seconds"};return null!==n&&e(n,!1),null!==o&&e(o,!0),r},i.createOffsetter=function(t){var e="string"==typeof t?t:t.duration,n=i.isoDurationToMoment(e);if("years"in n||"months"in n){var o=n.years,s=n.months;n.years=0,n.months=0;var a=r.duration(n).asMilliseconds();return function(t,e){e=e||1;var i=new Date(t),n=i.getUTCFullYear();null!=o&&(n+=e*o);var r=i.getUTCMonth();return null!=s&&(r+=e*s),i.setUTCFullYear(n,r),i.getTime()+e*a}}var h=r.duration(n).asMilliseconds();return function(t,e){return e=e||1,t+e*h}}},{"vis/node_modules/moment":36}],10:[function(t,e){function i(t,e){if(!t||Array.isArray(t)||n.isDataTable(t)||(e=t,t=null),this._options=e||{},this._data={},this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i in this._options.type)if(this._options.type.hasOwnProperty(i)){var o=this._options.type[i];this._type[i]="Date"==o||"ISODate"==o||"ASPDate"==o?"Date":o}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t)}var n=t("./util");i.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},i.prototype.subscribe=i.prototype.on,i.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},i.prototype.unsubscribe=i.prototype.off,i.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var n=[];t in this._subscribers&&(n=n.concat(this._subscribers[t])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var o=0;o<n.length;o++){var r=n[o];r.callback&&r.callback(t,e,i||null)}},i.prototype.add=function(t,e){var i,o=[],r=this;if(Array.isArray(t))for(var s=0,a=t.length;a>s;s++)i=r._addItem(t[s]),o.push(i);else if(n.isDataTable(t))for(var h=this._getColumnNames(t),u=0,d=t.getNumberOfRows();d>u;u++){for(var l={},c=0,p=h.length;p>c;c++){var m=h[c];l[m]=t.getValue(u,c)}i=r._addItem(l),o.push(i)}else{if(!(t instanceof Object))throw new Error("Unknown dataType");i=r._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o},i.prototype.update=function(t,e){var i=[],o=[],r=this,s=r._fieldId,a=function(t){var e=t[s];r._data[e]?(e=r._updateItem(t),o.push(e)):(e=r._addItem(t),i.push(e))};if(Array.isArray(t))for(var h=0,u=t.length;u>h;h++)a(t[h]);else if(n.isDataTable(t))for(var d=this._getColumnNames(t),l=0,c=t.getNumberOfRows();c>l;l++){for(var p={},m=0,f=d.length;f>m;m++){var g=d[m];p[g]=t.getValue(l,m)}a(p)}else{if(!(t instanceof Object))throw new Error("Unknown dataType");a(t)}return i.length&&this._trigger("add",{items:i},e),o.length&&this._trigger("update",{items:o},e),i.concat(o)},i.prototype.get=function(){var t,e,i,o,r=this,s=n.getType(arguments[0]);"String"==s||"Number"==s?(t=arguments[0],i=arguments[1],o=arguments[2]):"Array"==s?(e=arguments[0],i=arguments[1],o=arguments[2]):(i=arguments[0],o=arguments[1]);var a;if(i&&i.returnType){var h=["DataTable","Array","Object"];if(a=-1==h.indexOf(i.returnType)?"Array":i.returnType,o&&a!=n.getType(o))throw new Error('Type of parameter "data" ('+n.getType(o)+") does not correspond with specified options.type ("+i.type+")");if("DataTable"==a&&!n.isDataTable(o))throw new Error('Parameter "data" must be a DataTable when options.type is "DataTable"')}else a=o&&"DataTable"==n.getType(o)?"DataTable":"Array";var u,d,l,c,p=i&&i.type||this._options.type,m=i&&i.filter,f=[];if(void 0!=t)u=r._getItem(t,p),m&&!m(u)&&(u=null);else if(void 0!=e)for(l=0,c=e.length;c>l;l++)u=r._getItem(e[l],p),(!m||m(u))&&f.push(u);else for(d in this._data)this._data.hasOwnProperty(d)&&(u=r._getItem(d,p),(!m||m(u))&&f.push(u));if(i&&i.order&&void 0==t&&this._sort(f,i.order),i&&i.fields){var g=i.fields;if(void 0!=t)u=this._filterFields(u,g);else for(l=0,c=f.length;c>l;l++)f[l]=this._filterFields(f[l],g)}if("DataTable"==a){var v=this._getColumnNames(o);if(void 0!=t)r._appendRow(o,v,u);else for(l=0;l<f.length;l++)r._appendRow(o,v,f[l]);return o}if("Object"==a){var y={};for(l=0;l<f.length;l++)y[f[l].id]=f[l];return y}if(void 0!=t)return u;if(o){for(l=0,c=f.length;c>l;l++)o.push(f[l]);return o}return f},i.prototype.getIds=function(t){var e,i,n,o,r,s=this._data,a=t&&t.filter,h=t&&t.order,u=t&&t.type||this._options.type,d=[];if(a)if(h){r=[];for(n in s)s.hasOwnProperty(n)&&(o=this._getItem(n,u),a(o)&&r.push(o));for(this._sort(r,h),e=0,i=r.length;i>e;e++)d[e]=r[e][this._fieldId]}else for(n in s)s.hasOwnProperty(n)&&(o=this._getItem(n,u),a(o)&&d.push(o[this._fieldId]));else if(h){r=[];for(n in s)s.hasOwnProperty(n)&&r.push(s[n]);for(this._sort(r,h),e=0,i=r.length;i>e;e++)d[e]=r[e][this._fieldId]}else for(n in s)s.hasOwnProperty(n)&&(o=s[n],d.push(o[this._fieldId]));return d},i.prototype.getDataSet=function(){return this},i.prototype.forEach=function(t,e){var i,n,o=e&&e.filter,r=e&&e.type||this._options.type,s=this._data;if(e&&e.order)for(var a=this.get(e),h=0,u=a.length;u>h;h++)i=a[h],n=i[this._fieldId],t(i,n);else for(n in s)s.hasOwnProperty(n)&&(i=this._getItem(n,r),(!o||o(i))&&t(i,n))},i.prototype.map=function(t,e){var i,n=e&&e.filter,o=e&&e.type||this._options.type,r=[],s=this._data;for(var a in s)s.hasOwnProperty(a)&&(i=this._getItem(a,o),(!n||n(i))&&r.push(t(i,a)));return e&&e.order&&this._sort(r,e.order),r},i.prototype._filterFields=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&-1!=e.indexOf(n)&&(i[n]=t[n]);return i},i.prototype._sort=function(t,e){if(n.isString(e)){var i=e;t.sort(function(t,e){var n=t[i],o=e[i];return n>o?1:o>n?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},i.prototype.remove=function(t,e){var i,n,o,r=[];if(Array.isArray(t))for(i=0,n=t.length;n>i;i++)o=this._remove(t[i]),null!=o&&r.push(o);else o=this._remove(t),null!=o&&r.push(o);return r.length&&this._trigger("remove",{items:r},e),r},i.prototype._remove=function(t){if(n.isNumber(t)||n.isString(t)){if(this._data[t])return delete this._data[t],t}else if(t instanceof Object){var e=t[this._fieldId];if(e&&this._data[e])return delete this._data[e],e}return null},i.prototype.clear=function(t){var e=Object.keys(this._data);return this._data={},this._trigger("remove",{items:e},t),e},i.prototype.max=function(t){var e=this._data,i=null,n=null;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o],s=r[t];null!=s&&(!i||s>n)&&(i=r,n=s)}return i},i.prototype.min=function(t){var e=this._data,i=null,n=null;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o],s=r[t];null!=s&&(!i||n>s)&&(i=r,n=s)}return i},i.prototype.distinct=function(t){var e,i=this._data,o=[],r=this._options.type&&this._options.type[t]||null,s=0;for(var a in i)if(i.hasOwnProperty(a)){var h=i[a],u=h[t],d=!1;for(e=0;s>e;e++)if(o[e]==u){d=!0;break}d||void 0===u||(o[s]=u,s++)}if(r)for(e=0;e<o.length;e++)o[e]=n.convert(o[e],r);return o},i.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=n.randomUUID(),t[this._fieldId]=e;var i={};for(var o in t)if(t.hasOwnProperty(o)){var r=this._type[o];i[o]=n.convert(t[o],r)}return this._data[e]=i,e},i.prototype._getItem=function(t,e){var i,o,r=this._data[t];if(!r)return null;var s={};if(e)for(i in r)r.hasOwnProperty(i)&&(o=r[i],s[i]=n.convert(o,e[i]));else for(i in r)r.hasOwnProperty(i)&&(o=r[i],s[i]=o);return s},i.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o in t)if(t.hasOwnProperty(o)){var r=this._type[o];i[o]=n.convert(t[o],r)}return e},i.prototype._getColumnNames=function(t){for(var e=[],i=0,n=t.getNumberOfColumns();n>i;i++)e[i]=t.getColumnId(i)||t.getColumnLabel(i);return e},i.prototype._appendRow=function(t,e,i){for(var n=t.addRow(),o=0,r=e.length;r>o;o++){var s=e[o];t.setValue(n,o,i[s])}},e.exports=i},{"./util":33}],11:[function(t,e){function i(t,e){this._data=null,this._ids={},this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var n=t("./util"),o=t("./DataSet");i.prototype.setData=function(t){var e,i,n;if(this._data){this._data.unsubscribe&&this._data.unsubscribe("*",this.listener),e=[];for(var o in this._ids)this._ids.hasOwnProperty(o)&&e.push(o);this._ids={},this._trigger("remove",{items:e})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),i=0,n=e.length;n>i;i++)o=e[i],this._ids[o]=!0;this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},i.prototype.get=function(){var t,e,i,o=this,r=n.getType(arguments[0]);"String"==r||"Number"==r||"Array"==r?(t=arguments[0],e=arguments[1],i=arguments[2]):(e=arguments[0],i=arguments[1]);var s=n.extend({},this._options,e);this._options.filter&&e&&e.filter&&(s.filter=function(t){return o._options.filter(t)&&e.filter(t)});var a=[];return void 0!=t&&a.push(t),a.push(s),a.push(i),this._data&&this._data.get.apply(this._data,a)},i.prototype.getIds=function(t){var e;if(this._data){var i,n=this._options.filter;i=t&&t.filter?n?function(e){return n(e)&&t.filter(e)}:t.filter:n,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},i.prototype.getDataSet=function(){for(var t=this;t instanceof i;)t=t._data;return t||null},i.prototype._onEvent=function(t,e,i){var n,o,r,s,a=e&&e.items,h=this._data,u=[],d=[],l=[];if(a&&h){switch(t){case"add":for(n=0,o=a.length;o>n;n++)r=a[n],s=this.get(r),s&&(this._ids[r]=!0,u.push(r));break;case"update":for(n=0,o=a.length;o>n;n++)r=a[n],s=this.get(r),s?this._ids[r]?d.push(r):(this._ids[r]=!0,u.push(r)):this._ids[r]&&(delete this._ids[r],l.push(r));break;case"remove":for(n=0,o=a.length;o>n;n++)r=a[n],this._ids[r]&&(delete this._ids[r],l.push(r))}u.length&&this._trigger("add",{items:u},i),d.length&&this._trigger("update",{items:d},i),l.length&&this._trigger("remove",{items:l},i)}},i.prototype.on=o.prototype.on,i.prototype.off=o.prototype.off,i.prototype._trigger=o.prototype._trigger,i.prototype.subscribe=i.prototype.on,i.prototype.unsubscribe=i.prototype.off,e.exports=i},{"./DataSet":10,"./util":33}],12:[function(t,e,i){var n=t("./module/hammer");i.fakeGesture=function(t,e){var i=null,o=n.event.getTouchList(e,i),r=n.event.collectEventData(this,i,o,e);return isNaN(r.center.pageX)&&(r.center.pageX=e.pageX),isNaN(r.center.pageY)&&(r.center.pageY=e.pageY),r}},{"./module/hammer":13}],13:[function(t,e){e.exports="undefined"!=typeof window?window.Hammer||t("hammerjs"):function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},{hammerjs:35}],14:[function(t,e){e.exports="undefined"!=typeof window&&window.moment||t("moment")},{moment:36}],15:[function(t,e){function i(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=s(this.dom.overlay,{prevent_default:!1}),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,i=["touch","pinch","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];i.forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),this.windowHammer=s(window,{prevent_default:!1}),this.windowHammer.on("tap",function(i){n(i.target,t)||e.deactivate()}),this.escListener=this.deactivate.bind(this)}function n(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var o=t("mousetrap"),r=t("emitter-component"),s=t("../module/hammer"),a=t("../util");r(i.prototype),i.current=null,i.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.hammer=null,this.windowHammer=null},i.prototype.activate=function(){i.current&&i.current.deactivate(),i.current=this,this.active=!0,this.dom.overlay.style.display="none",a.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),o.bind("esc",this.escListener)},i.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",a.removeClassName(this.dom.container,"vis-active"),o.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},i.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},e.exports=i},{"../module/hammer":13,"../util":33,"emitter-component":34,mousetrap:37}],16:[function(t,e){function i(){}var n=t("emitter-component"),o=t("../module/hammer"),r=t("../util"),s=(t("../DataSet"),t("../DataView"),t("./Range"),t("./component/TimeAxis"),t("./component/CurrentTime"),t("./component/CustomTime"),t("./component/ItemSet"),t("../shared/Activator"));n(i.prototype),i.prototype._create=function(t){this.dom={},this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis timeline root",this.dom.background.className="vispanel background",this.dom.backgroundVertical.className="vispanel background vertical",this.dom.backgroundHorizontal.className="vispanel background horizontal",this.dom.centerContainer.className="vispanel center",this.dom.leftContainer.className="vispanel left",this.dom.rightContainer.className="vispanel right",this.dom.top.className="vispanel top",this.dom.bottom.className="vispanel bottom",this.dom.left.className="content",this.dom.center.className="content",this.dom.right.className="content",this.dom.shadowTop.className="shadow top",this.dom.shadowBottom.className="shadow bottom",this.dom.shadowTopLeft.className="shadow top",this.dom.shadowBottomLeft.className="shadow bottom",this.dom.shadowTopRight.className="shadow top",this.dom.shadowBottomRight.className="shadow bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",this.redraw.bind(this)),this.on("change",this.redraw.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pinch",this._onPinch.bind(this)),this.on("dragstart",this._onDragStart.bind(this)),this.on("drag",this._onDrag.bind(this)),this.hammer=o(this.dom.root,{preventDefault:!0}),this.listeners={};
var e=this,i=["touch","pinch","tap","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];if(i.forEach(function(t){var i=function(){var i=[t].concat(Array.prototype.slice.call(arguments,0));e.isActive()&&e.emit.apply(e,i)};e.hammer.on(t,i),e.listeners[t]=i}),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.touch={},!t)throw new Error("No container provided");t.appendChild(this.dom.root)},i.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","orientation","clickToUse","dataAttributes"];r.selectiveExtend(e,this.options,t),"clickToUse"in t&&(t.clickToUse?this.activator=new s(this.dom.root):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(this.components.forEach(function(e){e.setOptions(t)}),t&&t.order)throw new Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()},i.prototype.isActive=function(){return!this.activator||this.activator.active},i.prototype.destroy=function(){this.clear(),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){t.destroy()}),this.body=null},i.prototype.setCustomTime=function(t){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");this.customTime.setCustomTime(t)},i.prototype.getCustomTime=function(){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");return this.customTime.getCustomTime()},i.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},i.prototype.clear=function(t){(!t||t.items)&&this.setItems(null),(!t||t.groups)&&this.setGroups(null),(!t||t.options)&&(this.components.forEach(function(t){t.setOptions(t.defaultOptions)}),this.setOptions(this.defaultOptions))},i.prototype.fit=function(t){var e=this.getItemRange(),i=e.min,n=e.max;if(null!=i&&null!=n){var o=n.valueOf()-i.valueOf();0>=o&&(o=864e5),i=new Date(i.valueOf()-.05*o),n=new Date(n.valueOf()+.05*o)}if(null!==i||null!==n){var r=t&&void 0!==t.animate?t.animate:!0;this.range.setRange(i,n,r)}},i.prototype.setWindow=function(t,e,i){var n=i&&void 0!==i.animate?i.animate:!0;if(1==arguments.length){var o=arguments[0];this.range.setRange(o.start,o.end,n)}else this.range.setRange(t,e,n)},i.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,n=r.convert(t,"Date").valueOf(),o=n-i/2,s=n+i/2,a=e&&void 0!==e.animate?e.animate:!0;this.range.setRange(o,s,a)},i.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},i.prototype.redraw=function(){var t=!1,e=this.options,i=this.props,n=this.dom;if(n){"top"==e.orientation?(r.addClassName(n.root,"top"),r.removeClassName(n.root,"bottom")):(r.removeClassName(n.root,"top"),r.addClassName(n.root,"bottom")),n.root.style.maxHeight=r.option.asSize(e.maxHeight,""),n.root.style.minHeight=r.option.asSize(e.minHeight,""),n.root.style.width=r.option.asSize(e.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var o=n.root.offsetHeight-n.root.clientHeight,s=n.root.offsetWidth-n.root.clientWidth;0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(s=o),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var a=Math.max(i.left.height,i.center.height,i.right.height),h=i.top.height+a+i.bottom.height+o+i.border.top+i.border.bottom;n.root.style.height=r.option.asSize(e.height,h+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-o;var u=i.root.height-i.top.height-i.bottom.height-o;i.centerContainer.height=u,i.leftContainer.height=u,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-s,i.left.width=n.leftContainer.clientWidth||-i.border.left,i.leftContainer.width=i.left.width,i.right.width=n.rightContainer.clientWidth||-i.border.right,i.rightContainer.width=i.right.width;var d=i.root.width-i.left.width-i.right.width-s;i.center.width=d,i.centerContainer.width=d,i.top.width=d,i.bottom.width=d,n.background.style.height=i.background.height+"px",n.backgroundVertical.style.height=i.background.height+"px",n.backgroundHorizontal.style.height=i.centerContainer.height+"px",n.centerContainer.style.height=i.centerContainer.height+"px",n.leftContainer.style.height=i.leftContainer.height+"px",n.rightContainer.style.height=i.rightContainer.height+"px",n.background.style.width=i.background.width+"px",n.backgroundVertical.style.width=i.centerContainer.width+"px",n.backgroundHorizontal.style.width=i.background.width+"px",n.centerContainer.style.width=i.center.width+"px",n.top.style.width=i.top.width+"px",n.bottom.style.width=i.bottom.width+"px",n.background.style.left="0",n.background.style.top="0",n.backgroundVertical.style.left=i.left.width+i.border.left+"px",n.backgroundVertical.style.top="0",n.backgroundHorizontal.style.left="0",n.backgroundHorizontal.style.top=i.top.height+"px",n.centerContainer.style.left=i.left.width+"px",n.centerContainer.style.top=i.top.height+"px",n.leftContainer.style.left="0",n.leftContainer.style.top=i.top.height+"px",n.rightContainer.style.left=i.left.width+i.center.width+"px",n.rightContainer.style.top=i.top.height+"px",n.top.style.left=i.left.width+"px",n.top.style.top="0",n.bottom.style.left=i.left.width+"px",n.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop();var l=this.props.scrollTop;"bottom"==e.orientation&&(l+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),n.center.style.left="0",n.center.style.top=l+"px",n.left.style.left="0",n.left.style.top=l+"px",n.right.style.left="0",n.right.style.top=l+"px";var c=0==this.props.scrollTop?"hidden":"",p=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=c,n.shadowBottom.style.visibility=p,n.shadowTopLeft.style.visibility=c,n.shadowBottomLeft.style.visibility=p,n.shadowTopRight.style.visibility=c,n.shadowBottomRight.style.visibility=p,this.components.forEach(function(e){t=e.redraw()||t}),t&&this.redraw()}},i.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},i.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},i.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},i.prototype._toTime=function(t){var e=this.range.conversion(this.props.center.width);return new Date(t/e.scale+e.offset)},i.prototype._toGlobalTime=function(t){var e=this.range.conversion(this.props.root.width);return new Date(t/e.scale+e.offset)},i.prototype._toScreen=function(t){var e=this.range.conversion(this.props.center.width);return(t.valueOf()-e.offset)*e.scale},i.prototype._toGlobalScreen=function(t){var e=this.range.conversion(this.props.root.width);return(t.valueOf()-e.offset)*e.scale},i.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},i.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){return 1!=t.options.autoResize?void t._stopAutoResize():void(t.dom.root&&(t.dom.root.offsetWidth!=t.props.lastWidth||t.dom.root.offsetHeight!=t.props.lastHeight)&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.emit("change")))},r.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1e3)},i.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),r.removeEventListener(window,"resize",this._onResize),this._onResize=null},i.prototype._onTouch=function(){this.touch.allowDragging=!0},i.prototype._onPinch=function(){this.touch.allowDragging=!1},i.prototype._onDragStart=function(){this.touch.initialScrollTop=this.props.scrollTop},i.prototype._onDrag=function(t){if(this.touch.allowDragging){var e=t.gesture.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);n!=i&&this.redraw()}},i.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},i.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("bottom"==this.options.orientation&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.props.scrollTop},i.prototype._getScrollTop=function(){return this.props.scrollTop},e.exports=i},{"../DataSet":10,"../DataView":11,"../module/hammer":13,"../shared/Activator":15,"../util":33,"./Range":17,"./component/CurrentTime":22,"./component/CustomTime":23,"./component/ItemSet":25,"./component/TimeAxis":26,"emitter-component":34}],17:[function(t,e){function i(t,e){var i=a().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=t,this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=r.extend({},this.defaultOptions),this.props={touch:{}},this.animateTimer=null,this.body.emitter.on("dragstart",this._onDragStart.bind(this)),this.body.emitter.on("drag",this._onDrag.bind(this)),this.body.emitter.on("dragend",this._onDragEnd.bind(this)),this.body.emitter.on("hold",this._onHold.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(e)}function n(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}function o(t,e){return{x:t.pageX-r.getAbsoluteLeft(e),y:t.pageY-r.getAbsoluteTop(e)}}var r=t("../util"),s=t("../hammerUtil"),a=t("../module/moment"),h=t("./component/Component");i.prototype=new h,i.prototype.setOptions=function(t){if(t){var e=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate"];r.selectiveExtend(e,this.options,t),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},i.prototype.setRange=function(t,e,i){function n(){if(!a.props.touch.dragging){var t=(new Date).valueOf(),e=t-l,i=e>d,m=i||null===o?o:r.easeInOutQuad(e,h,o,d),f=i||null===s?s:r.easeInOutQuad(e,u,s,d);p=a._applyRange(m,f),c=c||p,p&&a.body.emitter.emit("rangechange",{start:new Date(a.start),end:new Date(a.end)}),i?c&&a.body.emitter.emit("rangechanged",{start:new Date(a.start),end:new Date(a.end)}):a.animateTimer=setTimeout(n,20)}}var o=void 0!=t?r.convert(t,"Date").valueOf():null,s=void 0!=e?r.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var a=this,h=this.start,u=this.end,d="number"==typeof i?i:500,l=(new Date).valueOf(),c=!1;return n()}var p=this._applyRange(o,s);if(p){var m={start:new Date(this.start),end:new Date(this.end)};this.body.emitter.emit("rangechange",m),this.body.emitter.emit("rangechanged",m)}},i.prototype._cancelAnimation=function(){this.animateTimer&&(clearTimeout(this.animateTimer),this.animateTimer=null)},i.prototype._applyRange=function(t,e){var i,n=null!=t?r.convert(t,"Date").valueOf():this.start,o=null!=e?r.convert(e,"Date").valueOf():this.end,s=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(n>o&&(o=n),null!==a&&a>n&&(i=a-n,n+=i,o+=i,null!=s&&o>s&&(o=s)),null!==s&&o>s&&(i=o-s,n-=i,o-=i,null!=a&&a>n&&(n=a)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);0>h&&(h=0),h>o-n&&(this.end-this.start===h?(n=this.start,o=this.end):(i=h-(o-n),n-=i/2,o+=i/2))}if(null!==this.options.zoomMax){var u=parseFloat(this.options.zoomMax);0>u&&(u=0),o-n>u&&(this.end-this.start===u?(n=this.start,o=this.end):(i=o-n-u,n+=i/2,o-=i/2))}var d=this.start!=n||this.end!=o;return this.start=n,this.end=o,d},i.prototype.getRange=function(){return{start:this.start,end:this.end}},i.prototype.conversion=function(t){return i.conversion(this.start,this.end,t)},i.conversion=function(t,e,i){return 0!=i&&e-t!=0?{offset:t,scale:i/(e-t)}:{offset:0,scale:1}},i.prototype._onDragStart=function(){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},i.prototype._onDrag=function(t){if(this.options.moveable){var e=this.options.direction;if(n(e),this.props.touch.allowDragging){var i="horizontal"==e?t.gesture.deltaX:t.gesture.deltaY,o=this.props.touch.end-this.props.touch.start,r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,s=-i/r*o;this._applyRange(this.props.touch.start+s,this.props.touch.end+s),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end)})}}},i.prototype._onDragEnd=function(){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end)}))},i.prototype._onMouseWheel=function(t){if(this.options.zoomable&&this.options.moveable){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i;i=0>e?1-e/5:1/(1+e/5);var n=s.fakeGesture(this,t),r=o(n.center,this.body.dom.center),a=this._pointerToDate(r);this.zoom(i,a)}t.preventDefault()}},i.prototype._onTouch=function(){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null},i.prototype._onHold=function(){this.props.touch.allowDragging=!1},i.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,t.gesture.touches.length>1)){this.props.touch.center||(this.props.touch.center=o(t.gesture.center,this.body.dom.center));var e=1/t.gesture.scale,i=this._pointerToDate(this.props.touch.center),n=parseInt(i+(this.props.touch.start-i)*e),r=parseInt(i+(this.props.touch.end-i)*e);this.setRange(n,r)}},i.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(n(i),"horizontal"==i){var o=this.body.domProps.center.width;return e=this.conversion(o),t.x/e.scale+e.offset}var r=this.body.domProps.center.height;return e=this.conversion(r),t.y/e.scale+e.offset},i.prototype.zoom=function(t,e){null==e&&(e=(this.start+this.end)/2);var i=e+(this.start-e)*t,n=e+(this.end-e)*t;this.setRange(i,n)},i.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,n=this.end+e*t;this.start=i,this.end=n},i.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,n=this.start-i,o=this.end-i;this.setRange(n,o)},e.exports=i},{"../hammerUtil":12,"../module/moment":14,"../util":33,"./component/Component":21}],18:[function(t,e,i){var n=.001;i.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},i.orderByEnd=function(t){t.sort(function(t,e){var i="end"in t.data?t.data.end:t.data.start,n="end"in e.data?e.data.end:e.data.start;return i-n})},i.stack=function(t,e,n){var o,r;if(n)for(o=0,r=t.length;r>o;o++)t[o].top=null;for(o=0,r=t.length;r>o;o++){var s=t[o];if(null===s.top){s.top=e.axis;do{for(var a=null,h=0,u=t.length;u>h;h++){var d=t[h];if(null!==d.top&&d!==s&&i.collision(s,d,e.item)){a=d;break}}null!=a&&(s.top=a.top+a.height+e.item.vertical)}while(a)}}},i.nostack=function(t,e){var i,n;for(i=0,n=t.length;n>i;i++)t[i].top=e.axis},i.collision=function(t,e,i){return t.left-i.horizontal+n<e.left+e.width&&t.left+t.width+i.horizontal-n>e.left&&t.top-i.vertical+n<e.top+e.height&&t.top+t.height+i.vertical-n>e.top}},{}],19:[function(t,e){function i(t,e,n){this.current=new Date,this._start=new Date,this._end=new Date,this.autoScale=!0,this.scale=i.SCALE.DAY,this.step=1,this.setRange(t,e,n)}var n=t("../module/moment");i.SCALE={MILLISECOND:1,SECOND:2,MINUTE:3,HOUR:4,DAY:5,WEEKDAY:6,MONTH:7,YEAR:8},i.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?new Date(t.valueOf()):new Date,this._end=void 0!=e?new Date(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},i.prototype.first=function(){this.current=new Date(this._start.valueOf()),this.roundToMinor()},i.prototype.roundToMinor=function(){switch(this.scale){case i.SCALE.YEAR:this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case i.SCALE.MONTH:this.current.setDate(1);case i.SCALE.DAY:case i.SCALE.WEEKDAY:this.current.setHours(0);case i.SCALE.HOUR:this.current.setMinutes(0);case i.SCALE.MINUTE:this.current.setSeconds(0);case i.SCALE.SECOND:this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case i.SCALE.MILLISECOND:this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case i.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case i.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case i.SCALE.HOUR:this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case i.SCALE.MONTH:this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case i.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}},i.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},i.prototype.next=function(){var t=this.current.valueOf();if(this.current.getMonth()<6)switch(this.scale){case i.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case i.SCALE.SECOND:this.current=new Date(this.current.valueOf()+1e3*this.step);break;case i.SCALE.MINUTE:this.current=new Date(this.current.valueOf()+1e3*this.step*60);break;case i.SCALE.HOUR:this.current=new Date(this.current.valueOf()+1e3*this.step*60*60);var e=this.current.getHours();this.current.setHours(e-e%this.step);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case i.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case i.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case i.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case i.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()+this.step);break;case i.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()+this.step);break;case i.SCALE.HOUR:this.current.setHours(this.current.getHours()+this.step);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case i.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case i.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case i.SCALE.MILLISECOND:this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case i.SCALE.SECOND:this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case i.SCALE.MINUTE:this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case i.SCALE.HOUR:this.current.getHours()<this.step&&this.current.setHours(0);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.getDate()<this.step+1&&this.current.setDate(1);break;case i.SCALE.MONTH:this.current.getMonth()<this.step&&this.current.setMonth(0);break;case i.SCALE.YEAR:}this.current.valueOf()==t&&(this.current=new Date(this._end.valueOf()))},i.prototype.getCurrent=function(){return this.current},i.prototype.setScale=function(t,e){this.scale=t,e>0&&(this.step=e),this.autoScale=!1},i.prototype.setAutoScale=function(t){this.autoScale=t},i.prototype.setMinimumStep=function(t){if(void 0!=t){var e=31104e6,n=2592e6,o=864e5,r=36e5,s=6e4,a=1e3,h=1;1e3*e>t&&(this.scale=i.SCALE.YEAR,this.step=1e3),500*e>t&&(this.scale=i.SCALE.YEAR,this.step=500),100*e>t&&(this.scale=i.SCALE.YEAR,this.step=100),50*e>t&&(this.scale=i.SCALE.YEAR,this.step=50),10*e>t&&(this.scale=i.SCALE.YEAR,this.step=10),5*e>t&&(this.scale=i.SCALE.YEAR,this.step=5),e>t&&(this.scale=i.SCALE.YEAR,this.step=1),3*n>t&&(this.scale=i.SCALE.MONTH,this.step=3),n>t&&(this.scale=i.SCALE.MONTH,this.step=1),5*o>t&&(this.scale=i.SCALE.DAY,this.step=5),2*o>t&&(this.scale=i.SCALE.DAY,this.step=2),o>t&&(this.scale=i.SCALE.DAY,this.step=1),o/2>t&&(this.scale=i.SCALE.WEEKDAY,this.step=1),4*r>t&&(this.scale=i.SCALE.HOUR,this.step=4),r>t&&(this.scale=i.SCALE.HOUR,this.step=1),15*s>t&&(this.scale=i.SCALE.MINUTE,this.step=15),10*s>t&&(this.scale=i.SCALE.MINUTE,this.step=10),5*s>t&&(this.scale=i.SCALE.MINUTE,this.step=5),s>t&&(this.scale=i.SCALE.MINUTE,this.step=1),15*a>t&&(this.scale=i.SCALE.SECOND,this.step=15),10*a>t&&(this.scale=i.SCALE.SECOND,this.step=10),5*a>t&&(this.scale=i.SCALE.SECOND,this.step=5),a>t&&(this.scale=i.SCALE.SECOND,this.step=1),200*h>t&&(this.scale=i.SCALE.MILLISECOND,this.step=200),100*h>t&&(this.scale=i.SCALE.MILLISECOND,this.step=100),50*h>t&&(this.scale=i.SCALE.MILLISECOND,this.step=50),10*h>t&&(this.scale=i.SCALE.MILLISECOND,this.step=10),5*h>t&&(this.scale=i.SCALE.MILLISECOND,this.step=5),h>t&&(this.scale=i.SCALE.MILLISECOND,this.step=1)}},i.prototype.snap=function(t){var e=new Date(t.valueOf());if(this.scale==i.SCALE.YEAR){var n=e.getFullYear()+Math.round(e.getMonth()/12);e.setFullYear(Math.round(n/this.step)*this.step),e.setMonth(0),e.setDate(0),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)}else if(this.scale==i.SCALE.MONTH)e.getDate()>15?(e.setDate(1),e.setMonth(e.getMonth()+1)):e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);else if(this.scale==i.SCALE.DAY){switch(this.step){case 5:case 2:e.setHours(24*Math.round(e.getHours()/24));break;default:e.setHours(12*Math.round(e.getHours()/12))}e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)}else if(this.scale==i.SCALE.WEEKDAY){switch(this.step){case 5:case 2:e.setHours(12*Math.round(e.getHours()/12));break;default:e.setHours(6*Math.round(e.getHours()/6))}e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)}else if(this.scale==i.SCALE.HOUR){switch(this.step){case 4:e.setMinutes(60*Math.round(e.getMinutes()/60));break;default:e.setMinutes(30*Math.round(e.getMinutes()/30))}e.setSeconds(0),e.setMilliseconds(0)}else if(this.scale==i.SCALE.MINUTE){switch(this.step){case 15:case 10:e.setMinutes(5*Math.round(e.getMinutes()/5)),e.setSeconds(0);break;case 5:e.setSeconds(60*Math.round(e.getSeconds()/60));break;default:e.setSeconds(30*Math.round(e.getSeconds()/30))}e.setMilliseconds(0)}else if(this.scale==i.SCALE.SECOND)switch(this.step){case 15:case 10:e.setSeconds(5*Math.round(e.getSeconds()/5)),e.setMilliseconds(0);break;case 5:e.setMilliseconds(1e3*Math.round(e.getMilliseconds()/1e3));break;default:e.setMilliseconds(500*Math.round(e.getMilliseconds()/500))}else if(this.scale==i.SCALE.MILLISECOND){var o=this.step>5?this.step/2:1;e.setMilliseconds(Math.round(e.getMilliseconds()/o)*o)}return e},i.prototype.isMajor=function(){switch(this.scale){case i.SCALE.MILLISECOND:return 0==this.current.getMilliseconds();case i.SCALE.SECOND:return 0==this.current.getSeconds();case i.SCALE.MINUTE:return 0==this.current.getHours()&&0==this.current.getMinutes();case i.SCALE.HOUR:return 0==this.current.getHours();case i.SCALE.WEEKDAY:case i.SCALE.DAY:return 1==this.current.getDate();case i.SCALE.MONTH:return 0==this.current.getMonth();case i.SCALE.YEAR:return!1;default:return!1}},i.prototype.getLabelMinor=function(t){switch(void 0==t&&(t=this.current),this.scale){case i.SCALE.MILLISECOND:return n(t).format("SSS");case i.SCALE.SECOND:return n(t).format("s");case i.SCALE.MINUTE:return n(t).format("HH:mm");case i.SCALE.HOUR:return n(t).format("HH:mm");case i.SCALE.WEEKDAY:return n(t).format("ddd D");case i.SCALE.DAY:return n(t).format("D");case i.SCALE.MONTH:return n(t).format("MMM");case i.SCALE.YEAR:return n(t).format("YYYY");default:return""}},i.prototype.getLabelMajor=function(t){switch(void 0==t&&(t=this.current),this.scale){case i.SCALE.MILLISECOND:return n(t).format("HH:mm:ss");case i.SCALE.SECOND:return n(t).format("D MMMM HH:mm");case i.SCALE.MINUTE:case i.SCALE.HOUR:return n(t).format("ddd D MMMM");case i.SCALE.WEEKDAY:case i.SCALE.DAY:return n(t).format("MMMM YYYY");case i.SCALE.MONTH:return n(t).format("YYYY");case i.SCALE.YEAR:return"";default:return""}},e.exports=i},{"../module/moment":14}],20:[function(t,e){function i(t,e,o){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");var r=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null},this.options=n.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new s(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.components.push(this.timeAxis),this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.customTime=new d(this.body),this.components.push(this.customTime),this.itemSet=new l(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,o&&this.setOptions(o),e?this.setItems(e):this.redraw()}var n=(t("emitter-component"),t("../module/hammer"),t("../util")),o=t("../DataSet"),r=t("../DataView"),s=t("./Range"),a=t("./Core"),h=t("./component/TimeAxis"),u=t("./component/CurrentTime"),d=t("./component/CustomTime"),l=t("./component/ItemSet");i.prototype=new a,i.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof o||t instanceof r?t:new o(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var n=void 0!=this.options.start?this.options.start:null,s=void 0!=this.options.end?this.options.end:null;this.setWindow(n,s,{animate:!1})}else this.fit({animate:!1})},i.prototype.setGroups=function(t){var e;e=t?t instanceof o||t instanceof r?t:new o(t):null,this.groupsData=e,this.itemSet.setGroups(e)},i.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},i.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},i.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,r=null;if(n.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||o>e)&&(o=e),(null===r||i>r)&&(r=i)}),null!==o&&null!==r){var s=(o+r)/2,a=Math.max(this.range.end-this.range.start,1.1*(r-o)),h=e&&void 0!==e.animate?e.animate:!0;this.range.setRange(s-a/2,s+a/2,h)}}},i.prototype.getItemRange=function(){var t=this.itemsData.getDataSet(),e=null,i=null;if(t){var o=t.min("start");e=o?n.convert(o.start,"Date").valueOf():null;var r=t.max("start");r&&(i=n.convert(r.start,"Date").valueOf());var s=t.max("end");s&&(i=null==i?n.convert(s.end,"Date").valueOf():Math.max(i,n.convert(s.end,"Date").valueOf()))}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},e.exports=i},{"../DataSet":10,"../DataView":11,"../module/hammer":13,"../util":33,"./Core":16,"./Range":17,"./component/CurrentTime":22,"./component/CustomTime":23,"./component/ItemSet":25,"./component/TimeAxis":26,"emitter-component":34}],21:[function(t,e){function i(){this.options=null,this.props=null}i.prototype.setOptions=function(t){t&&util.extend(this.options,t)},i.prototype.redraw=function(){return!1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},e.exports=i},{}],22:[function(t,e){function i(t,e){this.body=t,this.defaultOptions={showCurrentTime:!0,locales:s,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var n=t("../../util"),o=t("./Component"),r=t("../../module/moment"),s=t("../locales");i.prototype=new o,i.prototype._create=function(){var t=document.createElement("div");t.className="currenttime",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},i.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},i.prototype.setOptions=function(t){t&&n.selectiveExtend(["showCurrentTime","locale","locales"],this.options,t)},i.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=new Date((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),n=this.options.locales[this.options.locale],o=n.current+" "+n.time+": "+r(e).format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},i.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,n=1/i/10;30>n&&(n=30),n>1e3&&(n=1e3),e.redraw(),e.currentTimeTimer=setTimeout(t,n)}var e=this;t()},i.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},i.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},i.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},e.exports=i},{"../../module/moment":14,"../../util":33,"../locales":32,"./Component":21}],23:[function(t,e){function i(t,e){this.body=t,this.defaultOptions={showCustomTime:!1,locales:a,locale:"en"},this.options=o.extend({},this.defaultOptions),this.customTime=new Date,this.eventParams={},this._create(),this.setOptions(e)}var n=t("../../module/hammer"),o=t("../../util"),r=t("./Component"),s=t("../../module/moment"),a=t("../locales");i.prototype=new r,i.prototype.setOptions=function(t){t&&o.selectiveExtend(["showCustomTime","locale","locales"],this.options,t)
},i.prototype._create=function(){var t=document.createElement("div");t.className="customtime",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",t.appendChild(e),this.hammer=n(t,{prevent_default:!0}),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this))},i.prototype.destroy=function(){this.options.showCustomTime=!1,this.redraw(),this.hammer.enable(!1),this.hammer=null,this.body=null},i.prototype.redraw=function(){if(this.options.showCustomTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale],n=i.time+": "+s(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1),this.bar.style.left=e+"px",this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);return!1},i.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},i.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},i.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation(),t.preventDefault()},i.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=t.gesture.deltaX,i=this.body.util.toScreen(this.eventParams.customTime)+e,n=this.body.util.toTime(i);this.setCustomTime(n),this.body.emitter.emit("timechange",{time:new Date(this.customTime.valueOf())}),t.stopPropagation(),t.preventDefault()}},i.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{time:new Date(this.customTime.valueOf())}),t.stopPropagation(),t.preventDefault())},e.exports=i},{"../../module/hammer":13,"../../module/moment":14,"../../util":33,"../locales":32,"./Component":21}],24:[function(t,e){function i(t,e,i){this.groupId=t,this.itemSet=i,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this._create(),this.setData(e)}var n=t("../../util"),o=t("../Stack"),r=t("./item/RangeItem");i.prototype._create=function(){var t=document.createElement("div");t.className="vlabel",this.dom.label=t;var e=document.createElement("div");e.className="inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="group",this.dom.axis=document.createElement("div"),this.dom.axis.className="group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},i.prototype.setData=function(t){var e=t&&t.content;e instanceof Element?this.dom.inner.appendChild(e):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"",this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?n.removeClassName(this.dom.inner,"hidden"):n.addClassName(this.dom.inner,"hidden");var i=t&&t.className||null;i!=this.className&&(this.className&&(n.removeClassName(this.dom.label,this.className),n.removeClassName(this.dom.foreground,this.className),n.removeClassName(this.dom.background,this.className),n.removeClassName(this.dom.axis,this.className)),n.addClassName(this.dom.label,i),n.addClassName(this.dom.foreground,i),n.addClassName(this.dom.background,i),n.addClassName(this.dom.axis,i),this.className=i)},i.prototype.getLabelWidth=function(){return this.props.label.width},i.prototype.redraw=function(t,e,i){var r=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t);var s=this.dom.marker.clientHeight;s!=this.lastMarkerHeight&&(this.lastMarkerHeight=s,n.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),this.itemSet.options.stack?o.stack(this.visibleItems,e,i):o.nostack(this.visibleItems,e);var a,h=this.visibleItems;if(h.length){var u=h[0].top,d=h[0].top+h[0].height;if(n.forEach(h,function(t){u=Math.min(u,t.top),d=Math.max(d,t.top+t.height)}),u>e.axis){var l=u-e.axis;d-=l,n.forEach(h,function(t){t.top-=l})}a=d+e.item.vertical/2}else a=e.axis+e.item.vertical;a=Math.max(a,this.props.label.height);var c=this.dom.foreground;this.top=c.offsetTop,this.left=c.offsetLeft,this.width=c.offsetWidth,r=n.updateProperty(this,"height",a)||r,r=n.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||r,r=n.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||r,this.dom.background.style.height=a+"px",this.dom.foreground.style.height=a+"px",this.dom.label.style.height=a+"px";for(var p=0,m=this.visibleItems.length;m>p;p++){var f=this.visibleItems[p];f.repositionY()}return r},i.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},i.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},i.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},i.prototype.remove=function(t){delete this.items[t.id],t.setParent(this.itemSet);var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1)},i.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},i.prototype.order=function(){var t=n.toArray(this.items);this.orderedItems.byStart=t,this.orderedItems.byEnd=this._constructByEndArray(t),o.orderByStart(this.orderedItems.byStart),o.orderByEnd(this.orderedItems.byEnd)},i.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof r&&e.push(t[i]);return e},i.prototype._updateVisibleItems=function(t,e,i){var o,r,s=[];if(e.length>0)for(r=0;r<e.length;r++)this._checkIfVisible(e[r],s,i);o=0==s.length?n.binarySearch(t.byStart,i,"data","start"):t.byStart.indexOf(s[0]);var a=n.binarySearch(t.byEnd,i,"data","end");if(-1!=o){for(r=o;r>=0&&!this._checkIfInvisible(t.byStart[r],s,i);r--);for(r=o+1;r<t.byStart.length&&!this._checkIfInvisible(t.byStart[r],s,i);r++);}if(-1!=a){for(r=a;r>=0&&!this._checkIfInvisible(t.byEnd[r],s,i);r--);for(r=a+1;r<t.byEnd.length&&!this._checkIfInvisible(t.byEnd[r],s,i);r++);}return s},i.prototype._checkIfInvisible=function(t,e,i){return t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),-1==e.indexOf(t)&&e.push(t),!1):(t.displayed&&t.hide(),!0)},i.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},e.exports=i},{"../../util":33,"../Stack":18,"./item/RangeItem":31}],25:[function(t,e){function i(t,e){this.body=t,this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5},this.options=o.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e){i._onAdd(e.items)},update:function(t,e){i._onUpdate(e.items)},remove:function(t,e){i._onRemove(e.items)}},this.groupListeners={add:function(t,e){i._onAddGroups(e.items)},update:function(t,e){i._onUpdateGroups(e.items)},remove:function(t,e){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this._create(),this.setOptions(e)}var n=t("../../module/hammer"),o=t("../../util"),r=t("../../DataSet"),s=t("../../DataView"),a=t("./Component"),h=t("./Group"),u=t("./item/BoxItem"),d=t("./item/PointItem"),l=t("./item/RangeItem"),c=t("./item/BackgroundItem"),p="__ungrouped__";i.prototype=new a,i.types={background:c,box:u,range:l,point:d},i.prototype._create=function(){var t=document.createElement("div");t.className="itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="foreground",t.appendChild(i),this.dom.foreground=i;var o=document.createElement("div");o.className="axis",this.dom.axis=o;var r=document.createElement("div");r.className="labelset",this.dom.labelSet=r,this._updateUngrouped(),this.hammer=n(this.body.dom.centerContainer,{prevent_default:!0}),this.hammer.on("touch",this._onTouch.bind(this)),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this)),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("hold",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.show()},i.prototype.setOptions=function(t){if(t){var e=["type","align","orientation","padding","stack","selectable","groupOrder","dataAttributes","template"];o.selectiveExtend(e,this.options,t),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"==typeof t.margin&&(o.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"==typeof t.margin.item&&o.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable):"object"==typeof t.editable&&o.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable));var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(i),this.markDirty()}},i.prototype.markDirty=function(){this.groupIds=[],this.stackDirty=!0},i.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},i.prototype.setSelection=function(t){var e,i,n,o;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;i>e;e++)n=this.selection[e],o=this.items[n],o&&o.unselect();for(this.selection=[],e=0,i=t.length;i>e;e++)n=t[e],o=this.items[n],o&&(this.selection.push(n),o.select())},i.prototype.getSelection=function(){return this.selection.concat([])},i.prototype.getVisibleItems=function(){var t=this.body.range.getRange(),e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end),n=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],s=r.visibleItems,a=0;a<s.length;a++){var h=s[a];h.left<i&&h.left+h.width>e&&n.push(h.id)}return n},i.prototype._deselect=function(t){for(var e=this.selection,i=0,n=e.length;n>i;i++)if(e[i]==t){e.splice(i,1);break}},i.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=o.option.asSize,n=this.options,r=n.orientation,s=!1,a=this.dom.frame,h=n.editable.updateTime||n.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="itemset"+(h?" editable":""),s=this._orderGroups()||s;var u=e.end-e.start,d=u!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;d&&(this.stackDirty=!0),this.lastVisibleInterval=u,this.props.lastWidth=this.props.width;var l=this.stackDirty,c=this._firstGroup(),p={item:t.item,axis:t.axis},m={item:t.item,axis:t.item.vertical/2},f=0,g=t.axis+t.item.vertical;return o.forEach(this.groups,function(t){var i=t==c?p:m,n=t.redraw(e,i,l);s=n||s,f+=t.height}),f=Math.max(f,g),this.stackDirty=!1,a.style.height=i(f),this.props.width=a.offsetWidth,this.props.height=f,this.dom.axis.style.top=i("top"==r?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",s=this._isResized()||s},i.prototype._firstGroup=function(){var t="top"==this.options.orientation?0:this.groupIds.length-1,e=this.groupIds[t],i=this.groups[e]||this.groups[p];return i||null},i.prototype._updateUngrouped=function(){var t=this.groups[p];if(this.groupsData)t&&(t.hide(),delete this.groups[p]);else if(!t){var e=null,i=null;t=new h(e,i,this),this.groups[p]=t;for(var n in this.items)this.items.hasOwnProperty(n)&&t.add(this.items[n]);t.show()}},i.prototype.getLabelSet=function(){return this.dom.labelSet},i.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof r||t instanceof s))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(o.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var a=this.id;o.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,a)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}},i.prototype.getItems=function(){return this.itemsData},i.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(o.forEach(this.groupListeners,function(t,e){i.groupsData.unsubscribe(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof r||t instanceof s))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;o.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("change")},i.prototype.getGroups=function(){return this.groupsData},i.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},i.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var n=e.itemsData.get(t,e.itemOptions),o=e.items[t],r=n.type||e.options.type||(n.end?"range":"box"),s=i.types[r];if(o&&(s&&o instanceof s?e._updateItem(o,n):(e._removeItem(o),o=null)),!o){if(!s)throw new TypeError("rangeoverflow"==r?'Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}':'Unknown item type "'+r+'"');o=new s(n,e.conversion,e.options),o.id=t,e._addItem(o)}}),this._order(),this.stackDirty=!0,this.body.emitter.emit("change")},i.prototype._onAdd=i.prototype._onUpdate,i.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var n=i.items[t];n&&(e++,i._removeItem(n))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change"))},i.prototype._order=function(){o.forEach(this.groups,function(t){t.order()})},i.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},i.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),n=e.groups[t];if(n)n.setData(i);else{if(t==p)throw new Error("Illegal group id. "+t+" is a reserved id.");var r=Object.create(e.options);o.extend(r,{height:null}),n=new h(t,i,e),e.groups[t]=n;for(var s in e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&n.add(a)}n.order(),n.show()}}),this.body.emitter.emit("change")},i.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("change")},i.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder}),e=!o.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},i.prototype._addItem=function(t){this.items[t.id]=t;var e=this.groupsData?t.data.group:p,i=this.groups[e];i&&i.add(t)},i.prototype._updateItem=function(t,e){var i=t.data.group;if(t.setData(e),i!=t.data.group){var n=this.groups[i];n&&n.remove(t);var o=this.groupsData?t.data.group:p,r=this.groups[o];r&&r.add(t)}},i.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1);var i=this.groupsData?t.data.group:p,n=this.groups[i];n&&n.remove(t)},i.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof l&&e.push(t[i]);return e},i.prototype._onTouch=function(t){this.touchParams.item=i.itemFromTarget(t)},i.prototype._onDragStart=function(t){if(this.options.editable.updateTime||this.options.editable.updateGroup){var e,i=this.touchParams.item||null,n=this;if(i&&i.selected){var o=t.target.dragLeftItem,r=t.target.dragRightItem;o?(e={item:o},n.options.editable.updateTime&&(e.start=i.data.start.valueOf()),n.options.editable.updateGroup&&"group"in i.data&&(e.group=i.data.group),this.touchParams.itemProps=[e]):r?(e={item:r},n.options.editable.updateTime&&(e.end=i.data.end.valueOf()),n.options.editable.updateGroup&&"group"in i.data&&(e.group=i.data.group),this.touchParams.itemProps=[e]):this.touchParams.itemProps=this.getSelection().map(function(t){var e=n.items[t],i={item:e};return n.options.editable.updateTime&&("start"in e.data&&(i.start=e.data.start.valueOf()),"end"in e.data&&(i.end=e.data.end.valueOf())),n.options.editable.updateGroup&&"group"in e.data&&(i.group=e.data.group),i}),t.stopPropagation()}}},i.prototype._onDrag=function(t){if(this.touchParams.itemProps){var e=this,n=this.body.range,r=this.body.util.snap||null,s=t.gesture.deltaX,a=this.props.width/(n.end-n.start),h=s/a;this.touchParams.itemProps.forEach(function(n){var s={};if("start"in n){var a=new Date(n.start+h);s.start=r?r(a):a}if("end"in n){var u=new Date(n.end+h);s.end=r?r(u):u}if("group"in n){var d=i.groupFromTarget(t);s.group=d&&d.groupId}var l=o.extend({},n.item.data,s);e.options.onMoving(l,function(t){t&&e._updateItemProps(n.item,t)})}),this.stackDirty=!0,this.body.emitter.emit("change"),t.stopPropagation()}},i.prototype._updateItemProps=function(t,e){"start"in e&&(t.data.start=e.start),"end"in e&&(t.data.end=e.end),"group"in e&&t.data.group!=e.group&&this._moveToGroup(t,e.group)},i.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),i.add(t),i.order(),t.data.group=i.groupId}},i.prototype._onDragEnd=function(t){if(this.touchParams.itemProps){var e=[],i=this,n=this.itemsData.getDataSet(),r=this.touchParams.itemProps;this.touchParams.itemProps=null,r.forEach(function(t){var r=t.item.id,s=i.itemsData.get(r,i.itemOptions),a=!1;"start"in t.item.data&&(a=t.start!=t.item.data.start.valueOf(),s.start=o.convert(t.item.data.start,n._options.type&&n._options.type.start||"Date")),"end"in t.item.data&&(a=a||t.end!=t.item.data.end.valueOf(),s.end=o.convert(t.item.data.end,n._options.type&&n._options.type.end||"Date")),"group"in t.item.data&&(a=a||t.group!=t.item.data.group,s.group=t.item.data.group),a&&i.options.onMove(s,function(o){o?(o[n._fieldId]=r,e.push(o)):(i._updateItemProps(t.item,t),i.stackDirty=!0,i.body.emitter.emit("change"))})}),e.length&&n.update(e),t.stopPropagation()}},i.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.gesture.srcEvent&&t.gesture.srcEvent.ctrlKey,n=t.gesture.srcEvent&&t.gesture.srcEvent.shiftKey;if(e||n)return void this._onMultiSelectItem(t);var o=this.getSelection(),r=i.itemFromTarget(t),s=r?[r.id]:[];this.setSelection(s);var a=this.getSelection();(a.length>0||o.length>0)&&this.body.emitter.emit("select",{items:this.getSelection()}),t.stopPropagation()}},i.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this,n=this.body.util.snap||null,r=i.itemFromTarget(t);if(r){var s=e.itemsData.get(r.id);this.options.onUpdate(s,function(t){t&&e.itemsData.update(t)})}else{var a=o.getAbsoluteLeft(this.dom.frame),h=t.gesture.center.pageX-a,u=this.body.util.toTime(h),d={start:n?n(u):u,content:"new item"};if("range"===this.options.type){var l=this.body.util.toTime(h+this.props.width/5);d.end=n?n(l):l}d[this.itemsData._fieldId]=o.randomUUID();var c=i.groupFromTarget(t);c&&(d.group=c.groupId),this.options.onAdd(d,function(t){t&&e.itemsData.add(t)})}}},i.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e,n=i.itemFromTarget(t);if(n){e=this.getSelection();var o=e.indexOf(n.id);-1==o?e.push(n.id):e.splice(o,1),this.setSelection(e),this.body.emitter.emit("select",{items:this.getSelection()}),t.stopPropagation()}}},i.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},i.groupFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-group"))return e["timeline-group"];e=e.parentNode}return null},i.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},e.exports=i},{"../../DataSet":10,"../../DataView":11,"../../module/hammer":13,"../../util":33,"./Component":21,"./Group":24,"./item/BackgroundItem":27,"./item/BoxItem":28,"./item/PointItem":30,"./item/RangeItem":31}],26:[function(t,e){function i(t,e){this.dom={foreground:null,majorLines:[],majorTexts:[],minorLines:[],minorTexts:[],redundant:{majorLines:[],majorTexts:[],minorLines:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:"bottom",showMinorLabels:!0,showMajorLabels:!0},this.options=n.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var n=t("../../util"),o=t("./Component"),r=t("../TimeStep"),s=t("../../module/moment");i.prototype=new o,i.prototype.setOptions=function(t){t&&(n.selectiveExtend(["orientation","showMinorLabels","showMajorLabels"],this.options,t),"locale"in t&&("function"==typeof s.locale?s.locale(t.locale):s.lang(t.locale)))},i.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="timeaxis foreground",this.dom.background.className="timeaxis background"},i.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},i.prototype.redraw=function(){var t=this.options,e=this.props,i=this.dom.foreground,n=this.dom.background,o="top"==t.orientation?this.body.dom.top:this.body.dom.bottom,r=i.parentNode!==o;this._calculateCharSize();var s=(this.options.orientation,this.options.showMinorLabels),a=this.options.showMajorLabels;e.minorLabelHeight=s?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=i.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-("top"==t.orientation?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;var h=i.nextSibling,u=n.nextSibling;return i.parentNode&&i.parentNode.removeChild(i),n.parentNode&&n.parentNode.removeChild(n),i.style.height=this.props.height+"px",this._repaintLabels(),h?o.insertBefore(i,h):o.appendChild(i),u?this.body.dom.backgroundVertical.insertBefore(n,u):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||r},i.prototype._repaintLabels=function(){var t=this.options.orientation,e=n.convert(this.body.range.start,"Number"),i=n.convert(this.body.range.end,"Number"),o=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf()-this.body.util.toTime(0).valueOf(),s=new r(new Date(e),new Date(i),o);this.step=s;var a=this.dom;a.redundant.majorLines=a.majorLines,a.redundant.majorTexts=a.majorTexts,a.redundant.minorLines=a.minorLines,a.redundant.minorTexts=a.minorTexts,a.majorLines=[],a.majorTexts=[],a.minorLines=[],a.minorTexts=[],s.first();for(var h=void 0,u=0;s.hasNext()&&1e3>u;){u++;var d=s.getCurrent(),l=this.body.util.toScreen(d),c=s.isMajor();this.options.showMinorLabels&&this._repaintMinorText(l,s.getLabelMinor(),t),c&&this.options.showMajorLabels?(l>0&&(void 0==h&&(h=l),this._repaintMajorText(l,s.getLabelMajor(),t)),this._repaintMajorLine(l,t)):this._repaintMinorLine(l,t),s.next()}if(this.options.showMajorLabels){var p=this.body.util.toTime(0),m=s.getLabelMajor(p),f=m.length*(this.props.majorCharWidth||10)+10;(void 0==h||h>f)&&this._repaintMajorText(0,m,t)}n.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},i.prototype._repaintMinorText=function(t,e,i){var n=this.dom.redundant.minorTexts.shift();if(!n){var o=document.createTextNode("");n=document.createElement("div"),n.appendChild(o),n.className="text minor",this.dom.foreground.appendChild(n)}this.dom.minorTexts.push(n),n.childNodes[0].nodeValue=e,n.style.top="top"==i?this.props.majorLabelHeight+"px":"0",n.style.left=t+"px"},i.prototype._repaintMajorText=function(t,e,i){var n=this.dom.redundant.majorTexts.shift();if(!n){var o=document.createTextNode(e);n=document.createElement("div"),n.className="text major",n.appendChild(o),this.dom.foreground.appendChild(n)}this.dom.majorTexts.push(n),n.childNodes[0].nodeValue=e,n.style.top="top"==i?"0":this.props.minorLabelHeight+"px",n.style.left=t+"px"},i.prototype._repaintMinorLine=function(t,e){var i=this.dom.redundant.minorLines.shift();i||(i=document.createElement("div"),i.className="grid vertical minor",this.dom.background.appendChild(i)),this.dom.minorLines.push(i);var n=this.props;i.style.top="top"==e?n.majorLabelHeight+"px":this.body.domProps.top.height+"px",i.style.height=n.minorLineHeight+"px",i.style.left=t-n.minorLineWidth/2+"px"},i.prototype._repaintMajorLine=function(t,e){var i=this.dom.redundant.majorLines.shift();i||(i=document.createElement("DIV"),i.className="grid vertical major",this.dom.background.appendChild(i)),this.dom.majorLines.push(i);var n=this.props;i.style.top="top"==e?"0":this.body.domProps.top.height+"px",i.style.left=t-n.majorLineWidth/2+"px",i.style.height=n.majorLineHeight+"px"},i.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text minor measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth},i.prototype.snap=function(t){return this.step.snap(t)},e.exports=i},{"../../module/moment":14,"../../util":33,"../TimeStep":19,"./Component":21}],27:[function(t,e){function i(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=(t("../../../module/hammer"),t("./Item")),o=t("./RangeItem");i.prototype=new n(null,null,null),i.prototype.baseClassName="item background",i.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},i.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.content=document.createElement("div"),t.content.className="content",t.box.appendChild(t.content),t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw time axis: parent has no background container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},i.prototype.show=o.prototype.show,i.prototype.hide=o.prototype.hide,i.prototype.repositionX=o.prototype.repositionX,i.prototype.repositionY=function(){var t="top"===this.options.orientation;this.dom.content.style.top=t?"":"0",this.dom.content.style.bottom=t?"0":""},e.exports=i},{"../../../module/hammer":13,"./Item":29,"./RangeItem":31}],28:[function(t,e){function i(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=t("./Item");i.prototype=new n(null,null,null),i.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},i.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="line",t.dot=document.createElement("DIV"),t.dot.className="dot",t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw time axis: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw time axis: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var n=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw time axis: parent has no axis container element");n.appendChild(t.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box);
var o=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.box.className="item box"+o,t.line.className="item line"+o,t.dot.className="item dot"+o,this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.box)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.top=null,this.left=null,this.displayed=!1}},i.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align,i=this.dom.box,n=this.dom.line,o=this.dom.dot;this.left="right"==e?t-this.width:"left"==e?t:t-this.width/2,i.style.left=this.left+"px",n.style.left=t-this.props.line.width/2+"px",o.style.left=t-this.props.dot.width/2+"px"},i.prototype.repositionY=function(){var t=this.options.orientation,e=this.dom.box,i=this.dom.line,n=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,r=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-r+"px",i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},e.exports=i},{"./Item":29}],29:[function(t,e){function i(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null}var n=t("../../../module/hammer");i.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},i.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},i.prototype.setData=function(t){this.data=t,this.dirty=!0,this.displayed&&this.redraw()},i.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},i.prototype.isVisible=function(){return!1},i.prototype.show=function(){return!1},i.prototype.hide=function(){return!1},i.prototype.redraw=function(){},i.prototype.repositionX=function(){},i.prototype.repositionY=function(){},i.prototype._repaintDeleteButton=function(t){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var e=this,i=document.createElement("div");i.className="delete",i.title="Delete this item",n(i,{preventDefault:!0}).on("tap",function(t){e.parent.removeFromDataSet(e),t.stopPropagation()}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},i.prototype._updateContents=function(t){var e;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);e=this.options.template(i)}else e=this.data.content;if(e instanceof Element)t.innerHTML="",t.appendChild(e);else{if(void 0==e)throw new Error('Property "content" missing in item '+this.data.id);t.innerHTML=e}},i.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("title")},i.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0)for(var e=0;e<this.options.dataAttributes.length;e++){var i=this.options.dataAttributes[e],n=this.data[i];null!=n?t.setAttribute("data-"+i,n):t.removeAttribute("data-"+i)}},e.exports=i},{"../../../module/hammer":13}],30:[function(t,e){function i(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=t("./Item");i.prototype=new n(null,null,null),i.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},i.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),t.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw time axis: parent has no foreground container element");e.appendChild(t.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.point.className="item point"+i,t.dot.className="item dot"+i,this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,t.content.style.marginLeft=2*this.props.dot.width+"px",t.dot.style.top=(this.height-this.props.dot.height)/2+"px",t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintDeleteButton(t.point)},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.top=null,this.left=null,this.displayed=!1)},i.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px"},i.prototype.repositionY=function(){var t=this.options.orientation,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},e.exports=i},{"./Item":29}],31:[function(t,e){function i(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}var n=t("../../../module/hammer"),o=t("./Item");i.prototype=new o(null,null,null),i.prototype.baseClassName="item range",i.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},i.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.content=document.createElement("div"),t.content.className="content",t.box.appendChild(t.content),t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw time axis: parent has no foreground container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.box),this._repaintDragLeft(),this._repaintDragRight()},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.top=null,this.left=null,this.displayed=!1}},i.prototype.repositionX=function(){var t,e,i=this.parent.width,n=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end);-i>n&&(n=-i),o>2*i&&(o=2*i);var r=Math.max(o-n,1);switch(this.overflow?(this.left=n,this.width=r+this.props.content.width,e=this.props.content.width):(this.left=n,this.width=r,e=Math.min(o-n,this.props.content.width)),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px",this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(r-e-2*this.options.padding,0)+"px";break;case"center":this.dom.content.style.left=Math.max((r-e-2*this.options.padding)/2,0)+"px";break;default:t=this.overflow?Math.max(-n,0):0>n?Math.min(-n,o-n-this.props.content.width-2*this.options.padding):0,this.dom.content.style.left=t+"px"}},i.prototype.repositionY=function(){var t=this.options.orientation,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},i.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="drag-left",t.dragLeftItem=this,n(t,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(t),this.dom.dragLeft=t}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},i.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="drag-right",t.dragRightItem=this,n(t,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(t),this.dom.dragRight=t}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},e.exports=i},{"../../../module/hammer":13,"./Item":29}],32:[function(t,e,i){i.en={current:"current",time:"time"},i.en_EN=i.en,i.en_US=i.en,i.nl={custom:"aangepaste",time:"tijd"},i.nl_NL=i.nl,i.nl_BE=i.nl},{}],33:[function(require,module,exports){var moment=require("./module/moment");exports.isNumber=function(t){return t instanceof Number||"number"==typeof t},exports.isString=function(t){return t instanceof String||"string"==typeof t},exports.isDate=function(t){if(t instanceof Date)return!0;if(exports.isString(t)){var e=ASPDateRegex.exec(t);if(e)return!0;if(!isNaN(Date.parse(t)))return!0}return!1},exports.isDataTable=function(t){return"undefined"!=typeof google&&google.visualization&&google.visualization.DataTable&&t instanceof google.visualization.DataTable},exports.randomUUID=function(){var t=function(){return Math.floor(65536*Math.random()).toString(16)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},exports.extend=function(t){for(var e=1,i=arguments.length;i>e;e++){var n=arguments[e];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},exports.selectiveExtend=function(t,e){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var i=2;i<arguments.length;i++)for(var n=arguments[i],o=0;o<t.length;o++){var r=t[o];n.hasOwnProperty(r)&&(e[r]=n[r])}return e},exports.selectiveDeepExtend=function(t,e,i){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n=2;n<arguments.length;n++)for(var o=arguments[n],r=0;r<t.length;r++){var s=t[r];if(o.hasOwnProperty(s))if(i[s]&&i[s].constructor===Object)void 0===e[s]&&(e[s]={}),e[s].constructor===Object?exports.deepExtend(e[s],i[s]):e[s]=i[s];else{if(Array.isArray(i[s]))throw new TypeError("Arrays are not supported by deepExtend");e[s]=i[s]}}return e},exports.selectiveNotDeepExtend=function(t,e,i){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n in i)if(i.hasOwnProperty(n)&&-1==t.indexOf(n))if(i[n]&&i[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?exports.deepExtend(e[n],i[n]):e[n]=i[n];else{if(Array.isArray(i[n]))throw new TypeError("Arrays are not supported by deepExtend");e[n]=i[n]}return e},exports.deepExtend=function(t,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(var i in e)if(e.hasOwnProperty(i))if(e[i]&&e[i].constructor===Object)void 0===t[i]&&(t[i]={}),t[i].constructor===Object?exports.deepExtend(t[i],e[i]):t[i]=e[i];else{if(Array.isArray(e[i]))throw new TypeError("Arrays are not supported by deepExtend");t[i]=e[i]}return t},exports.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,n=t.length;n>i;i++)if(t[i]!=e[i])return!1;return!0},exports.convert=function(t,e){var i;if(void 0===t)return void 0;if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(exports.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(moment.isMoment(t))return new Date(t.valueOf());if(exports.isString(t))return i=ASPDateRegex.exec(t),i?new Date(Number(i[1])):moment(t).toDate();throw new Error("Cannot convert object of type "+exports.getType(t)+" to type Date");case"Moment":if(exports.isNumber(t))return moment(t);if(t instanceof Date)return moment(t.valueOf());if(moment.isMoment(t))return moment(t);if(exports.isString(t))return i=ASPDateRegex.exec(t),moment(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+exports.getType(t)+" to type Date");case"ISODate":if(exports.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(moment.isMoment(t))return t.toDate().toISOString();if(exports.isString(t))return i=ASPDateRegex.exec(t),i?new Date(Number(i[1])).toISOString():new Date(t).toISOString();throw new Error("Cannot convert object of type "+exports.getType(t)+" to type ISODate");case"ASPDate":if(exports.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(exports.isString(t)){i=ASPDateRegex.exec(t);var n;return n=i?new Date(Number(i[1])).valueOf():new Date(t).valueOf(),"/Date("+n+")/"}throw new Error("Cannot convert object of type "+exports.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+e+'"')}};var ASPDateRegex=/^\/?Date\((\-?\d+)/i;exports.getType=function(t){var e=typeof t;return"object"==e?null==t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":t instanceof Array?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":e},exports.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left+window.pageXOffset},exports.getAbsoluteTop=function(t){return t.getBoundingClientRect().top+window.pageYOffset},exports.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},exports.removeClassName=function(t,e){var i=t.className.split(" "),n=i.indexOf(e);-1!=n&&(i.splice(n,1),t.className=i.join(" "))},exports.forEach=function(t,e){var i,n;if(t instanceof Array)for(i=0,n=t.length;n>i;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},exports.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},exports.updateProperty=function(t,e,i){return t[e]!==i?(t[e]=i,!0):!1},exports.addEventListener=function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},exports.removeEventListener=function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},exports.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},exports.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},exports.option={},exports.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},exports.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},exports.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},exports.option.asSize=function(t,e){return"function"==typeof t&&(t=t()),exports.isString(t)?t:exports.isNumber(t)?t+"px":e||null},exports.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},exports.GiveDec=function(Hex){var Value;return Value="A"==Hex?10:"B"==Hex?11:"C"==Hex?12:"D"==Hex?13:"E"==Hex?14:"F"==Hex?15:eval(Hex)},exports.GiveHex=function(t){var e;return e=10==t?"A":11==t?"B":12==t?"C":13==t?"D":14==t?"E":15==t?"F":""+t},exports.parseColor=function(t){var e;if(exports.isString(t)){if(exports.isValidRGB(t)){var i=t.substr(4).substr(0,t.length-5).split(",");t=exports.RGBToHex(i[0],i[1],i[2])}if(exports.isValidHex(t)){var n=exports.hexToHSV(t),o={h:n.h,s:.45*n.s,v:Math.min(1,1.05*n.v)},r={h:n.h,s:Math.min(1,1.25*n.v),v:.6*n.v},s=exports.HSVToHex(r.h,r.h,r.v),a=exports.HSVToHex(o.h,o.s,o.v);e={background:t,border:s,highlight:{background:a,border:s},hover:{background:a,border:s}}}else e={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else e={},e.background=t.background||"white",e.border=t.border||e.background,exports.isString(t.highlight)?e.highlight={border:t.highlight,background:t.highlight}:(e.highlight={},e.highlight.background=t.highlight&&t.highlight.background||e.background,e.highlight.border=t.highlight&&t.highlight.border||e.border),exports.isString(t.hover)?e.hover={border:t.hover,background:t.hover}:(e.hover={},e.hover.background=t.hover&&t.hover.background||e.background,e.hover.border=t.hover&&t.hover.border||e.border);return e},exports.hexToRGB=function(t){t=t.replace("#","").toUpperCase();var e=exports.GiveDec(t.substring(0,1)),i=exports.GiveDec(t.substring(1,2)),n=exports.GiveDec(t.substring(2,3)),o=exports.GiveDec(t.substring(3,4)),r=exports.GiveDec(t.substring(4,5)),s=exports.GiveDec(t.substring(5,6)),a=16*e+i,h=16*n+o,i=16*r+s;return{r:a,g:h,b:i}},exports.RGBToHex=function(t,e,i){var n=exports.GiveHex(Math.floor(t/16)),o=exports.GiveHex(t%16),r=exports.GiveHex(Math.floor(e/16)),s=exports.GiveHex(e%16),a=exports.GiveHex(Math.floor(i/16)),h=exports.GiveHex(i%16),u=n+o+r+s+a+h;return"#"+u},exports.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));if(n==o)return{h:0,s:0,v:n};var r=t==n?e-i:i==n?t-e:i-t,s=t==n?3:i==n?1:5,a=60*(s-r/(o-n))/360,h=(o-n)/o,u=o;return{h:a,s:h,v:u}},exports.HSVToRGB=function(t,e,i){var n,o,r,s=Math.floor(6*t),a=6*t-s,h=i*(1-e),u=i*(1-a*e),d=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=d,r=h;break;case 1:n=u,o=i,r=h;break;case 2:n=h,o=i,r=d;break;case 3:n=h,o=u,r=i;break;case 4:n=d,o=h,r=i;break;case 5:n=i,o=h,r=u}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}},exports.HSVToHex=function(t,e,i){var n=exports.HSVToRGB(t,e,i);return exports.RGBToHex(n.r,n.g,n.b)},exports.hexToHSV=function(t){var e=exports.hexToRGB(t);return exports.RGBToHSV(e.r,e.g,e.b)},exports.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e},exports.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e},exports.selectiveBridgeObject=function(t,e){if("object"==typeof e){for(var i=Object.create(e),n=0;n<t.length;n++)e.hasOwnProperty(t[n])&&"object"==typeof e[t[n]]&&(i[t[n]]=exports.bridgeObject(e[t[n]]));return i}return null},exports.bridgeObject=function(t){if("object"==typeof t){var e=Object.create(t);for(var i in t)t.hasOwnProperty(i)&&"object"==typeof t[i]&&(e[i]=exports.bridgeObject(t[i]));return e}return null},exports.mergeOptions=function(t,e,i){if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else{t[i].enabled=!0;for(prop in e[i])e[i].hasOwnProperty(prop)&&(t[i][prop]=e[i][prop])}},exports.mergeOptions=function(t,e,i){if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else{t[i].enabled=!0;for(prop in e[i])e[i].hasOwnProperty(prop)&&(t[i][prop]=e[i][prop])}},exports.binarySearch=function(t,e,i,n){var o,r=t,s=1e4,a=0,h=!1,u=0,d=r.length,l=u,c=d,p=Math.floor(.5*(d+u));if(0==d)p=-1;else if(1==d)p=r[p].isVisible(e)?0:-1;else{for(d-=1;0==h&&s>a;)o=void 0===n?r[p][i]:r[p][i][n],r[p].isVisible(e)?h=!0:(o<e.start?l=Math.floor(.5*(d+u)):c=Math.floor(.5*(d+u)),u==l&&d==c?(p=-1,h=!0):(d=c,u=l,p=Math.floor(.5*(d+u)))),a++;a>=s&&console.log("BinarySearch too many iterations. Aborting.")}return p},exports.binarySearchGeneric=function(t,e,i,n){var o,r,s,a,h=1e4,u=0,d=t,l=!1,c=0,p=d.length,m=c,f=p,g=Math.floor(.5*(p+c));if(0==p)g=-1;else if(1==p)s=d[g][i],g=s==e?0:-1;else{for(p-=1;0==l&&h>u;)r=d[Math.max(0,g-1)][i],s=d[g][i],a=d[Math.min(d.length-1,g+1)][i],s==e||e>r&&s>e||e>s&&a>e?(l=!0,s!=e&&("before"==n?e>r&&s>e&&(g=Math.max(0,g-1)):e>s&&a>e&&(g=Math.min(d.length-1,g+1)))):(e>s?m=Math.floor(.5*(p+c)):f=Math.floor(.5*(p+c)),o=Math.floor(.5*(p+c)),c==m&&p==f?(g=-1,l=!0):(p=f,c=m,g=Math.floor(.5*(p+c)))),u++;u>=h&&console.log("BinarySearch too many iterations. Aborting.")}return g},exports.easeInOutQuad=function(t,e,i,n){var o=i-e;return t/=n/2,1>t?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)},exports.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},{"./module/moment":14}],34:[function(t,e){function i(t){return t?n(t):void 0}function n(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<i.length;o++)if(n=i[o],n===e||n.fn===e){i.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,o=i.length;o>n;++n)i[n].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],35:[function(t,e){!function(t,i){"use strict";function n(){o.READY||(b.determineEventTypes(),y.each(o.gestures,function(t){_.register(t)}),b.onTouch(o.DOCUMENT,m,_.detect),b.onTouch(o.DOCUMENT,f,_.detect),o.READY=!0)}var o=function D(t,e){return new D.Instance(t,e||{})};o.VERSION="1.1.3",o.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},o.DOCUMENT=document,o.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,o.HAS_TOUCHEVENTS="ontouchstart"in t,o.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),o.NO_MOUSEEVENTS=o.HAS_TOUCHEVENTS&&o.IS_MOBILE||o.HAS_POINTEREVENTS,o.CALCULATE_INTERVAL=25;var r={},s=o.DIRECTION_DOWN="down",a=o.DIRECTION_LEFT="left",h=o.DIRECTION_UP="up",u=o.DIRECTION_RIGHT="right",d=o.POINTER_MOUSE="mouse",l=o.POINTER_TOUCH="touch",c=o.POINTER_PEN="pen",p=o.EVENT_START="start",m=o.EVENT_MOVE="move",f=o.EVENT_END="end",g=o.EVENT_RELEASE="release",v=o.EVENT_TOUCH="touch";o.READY=!1,o.plugins=o.plugins||{},o.gestures=o.gestures||{};var y=o.utils={extend:function(t,e,n){for(var o in e)!e.hasOwnProperty(o)||t[o]!==i&&n||(t[o]=e[o]);return t},on:function(t,e,i){t.addEventListener(e,i,!1)},off:function(t,e,i){t.removeEventListener(e,i,!1)},each:function(t,e,n){var o,r;if("forEach"in t)t.forEach(e,n);else if(t.length!==i){for(o=0,r=t.length;r>o;o++)if(e.call(n,t[o],o,t)===!1)return}else for(o in t)if(t.hasOwnProperty(o)&&e.call(n,t[o],o,t)===!1)return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var i=t.indexOf(e);return-1===i?!1:i}for(var n=0,o=t.length;o>n;n++)if(t[n]===e)return n;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],n=[],o=[],r=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(y.each(t,function(t){e.push(t.pageX),i.push(t.pageY),n.push(t.clientX),o.push(t.clientY)}),{pageX:(r.apply(Math,e)+s.apply(Math,e))/2,pageY:(r.apply(Math,i)+s.apply(Math,i))/2,clientX:(r.apply(Math,n)+s.apply(Math,n))/2,clientY:(r.apply(Math,o)+s.apply(Math,o))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.clientX-e.clientX),n=Math.abs(t.clientY-e.clientY);return i>=n?t.clientX-e.clientX>0?a:u:t.clientY-e.clientY>0?h:s},getDistance:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==h||t==s},setPrefixedCss:function(t,e,i,n){var o=["","Webkit","Moz","O","ms"];e=y.toCamelCase(e);for(var r=0;r<o.length;r++){var s=e;if(o[r]&&(s=o[r]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null==n||n)&&i||"";break}}},toggleBehavior:function(t,e,i){if(e&&t&&t.style){y.each(e,function(e,n){y.setPrefixedCss(t,n,e,i)});var n=i&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=n),"none"==e.userDrag&&(t.ondragstart=n)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},b=o.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,i,n){var o=e.split(" ");y.each(o,function(e){y.on(t,e,i),n&&n(e)})},off:function(t,e,i,n){var o=e.split(" ");y.each(o,function(e){y.off(t,e,i),n&&n(e)})},onTouch:function(t,e,i){var n=this,s=function(r){var s,a=r.type.toLowerCase(),h=o.HAS_POINTEREVENTS,u=y.inStr(a,"mouse");u&&n.preventMouseEvents||(u&&e==p&&0===r.button?(n.preventMouseEvents=!1,n.shouldDetect=!0):h&&e==p?n.shouldDetect=1===r.buttons||w.matchType(l,r):u||e!=p||(n.preventMouseEvents=!0,n.shouldDetect=!0),h&&e!=f&&w.updatePointer(e,r),n.shouldDetect&&(s=n.doDetect.call(n,r,e,t,i)),s==f&&(n.preventMouseEvents=!1,n.shouldDetect=!1,w.reset()),h&&e==f&&w.updatePointer(e,r))};return this.on(t,r[e],s),s},doDetect:function(t,e,i,n){var o=this.getTouchList(t,e),r=o.length,s=e,a=o.trigger,h=r;e==p?a=v:e==f&&(a=g,h=o.length-(t.changedTouches?t.changedTouches.length:1)),h>0&&this.started&&(s=m),this.started=!0;var u=this.collectEventData(i,s,o,t);return e!=f&&n.call(_,u),a&&(u.changedLength=h,u.eventType=a,n.call(_,u),u.eventType=s,delete u.changedLength),s==f&&(n.call(_,u),this.started=!1),s},determineEventTypes:function(){var e;return e=o.HAS_POINTEREVENTS?t.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:o.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r[p]=e[0],r[m]=e[1],r[f]=e[2],r},getTouchList:function(t,e){if(o.HAS_POINTEREVENTS)return w.getTouchList();if(t.touches){if(e==m)return t.touches;var i=[],n=[].concat(y.toArray(t.touches),y.toArray(t.changedTouches)),r=[];return y.each(n,function(t){y.inArray(i,t.identifier)===!1&&r.push(t),i.push(t.identifier)}),r}return t.identifier=1,[t]},collectEventData:function(t,e,i,n){var o=l;return y.inStr(n.type,"mouse")||w.matchType(d,n)?o=d:w.matchType(c,n)&&(o=c),{center:y.getCenter(i),timeStamp:Date.now(),target:n.target,touches:i,eventType:e,pointerType:o,srcEvent:n,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return _.stopDetect()}}}},w=o.PointerEvent={pointers:{},getTouchList:function(){var t=[];return y.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){t==f||t!=f&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,n={};return n[d]=i===(e.MSPOINTER_TYPE_MOUSE||d),n[l]=i===(e.MSPOINTER_TYPE_TOUCH||l),n[c]=i===(e.MSPOINTER_TYPE_PEN||c),n[t]},reset:function(){this.pointers={}}},_=o.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:y.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,i=e.options;return y.each(this.gestures,function(n){!this.stopped&&e.enabled&&i[n.name]&&n.handler.call(n,t,e)},this),this.current&&(this.current.lastEvent=t),t.eventType==f&&this.stopDetect(),t}},stopDetect:function(){this.previous=y.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,i,n,r){var s=this.current,a=!1,h=s.lastCalcEvent,u=s.lastCalcData;h&&t.timeStamp-h.timeStamp>o.CALCULATE_INTERVAL&&(e=h.center,i=t.timeStamp-h.timeStamp,n=t.center.clientX-h.center.clientX,r=t.center.clientY-h.center.clientY,a=!0),(t.eventType==v||t.eventType==g)&&(s.futureCalcEvent=t),(!s.lastCalcEvent||a)&&(u.velocity=y.getVelocity(i,n,r),u.angle=y.getAngle(e,t.center),u.direction=y.getDirection(e,t.center),s.lastCalcEvent=s.futureCalcEvent||t,s.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,i=e.startEvent,n=e.lastEvent||i;(t.eventType==v||t.eventType==g)&&(i.touches=[],y.each(t.touches,function(t){i.touches.push({clientX:t.clientX,clientY:t.clientY})}));var o=t.timeStamp-i.timeStamp,r=t.center.clientX-i.center.clientX,s=t.center.clientY-i.center.clientY;return this.getCalculatedData(t,n.center,o,r,s),y.extend(t,{startEvent:i,deltaTime:o,deltaX:r,deltaY:s,distance:y.getDistance(i.center,t.center),angle:y.getAngle(i.center,t.center),direction:y.getDirection(i.center,t.center),scale:y.getScale(i.touches,t.touches),rotation:y.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return e[t.name]===i&&(e[t.name]=!0),y.extend(o.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}};o.Instance=function(t,e){var i=this;n(),this.element=t,this.enabled=!0,y.each(e,function(t,i){delete e[i],e[y.toCamelCase(i)]=t}),this.options=y.extend(y.extend({},o.defaults),e||{}),this.options.behavior&&y.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=b.onTouch(t,p,function(t){i.enabled&&t.eventType==p?_.startDetect(i,t):t.eventType==v&&_.detect(t)}),this.eventHandlers=[]
},o.Instance.prototype={on:function(t,e){var i=this;return b.on(i.element,t,e,function(t){i.eventHandlers.push({gesture:t,handler:e})}),i},off:function(t,e){var i=this;return b.off(i.element,t,e,function(t){var n=y.inArray({gesture:t,handler:e});n!==!1&&i.eventHandlers.splice(n,1)}),i},trigger:function(t,e){e||(e={});var i=o.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return y.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(y.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)y.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],b.off(this.element,r[p],this.eventStartHandler),null}},function(t){function e(e,n){var o=_.current;if(!(n.options.dragMaxTouches>0&&e.touches.length>n.options.dragMaxTouches))switch(e.eventType){case p:i=!1;break;case m:if(e.distance<n.options.dragMinDistance&&o.name!=t)return;var r=o.startEvent.center;if(o.name!=t&&(o.name=t,n.options.dragDistanceCorrection&&e.distance>0)){var d=Math.abs(n.options.dragMinDistance/e.distance);r.pageX+=e.deltaX*d,r.pageY+=e.deltaY*d,r.clientX+=e.deltaX*d,r.clientY+=e.deltaY*d,e=_.extendEventData(e)}(o.lastEvent.dragLockToAxis||n.options.dragLockToAxis&&n.options.dragLockMinDistance<=e.distance)&&(e.dragLockToAxis=!0);var l=o.lastEvent.direction;e.dragLockToAxis&&l!==e.direction&&(e.direction=y.isVertical(l)?e.deltaY<0?h:s:e.deltaX<0?a:u),i||(n.trigger(t+"start",e),i=!0),n.trigger(t,e),n.trigger(t+e.direction,e);var c=y.isVertical(e.direction);(n.options.dragBlockVertical&&c||n.options.dragBlockHorizontal&&!c)&&e.preventDefault();break;case g:i&&e.changedLength<=n.options.dragMaxTouches&&(n.trigger(t+"end",e),i=!1);break;case f:i=!1}}var i=!1;o.gestures.Drag={name:t,index:50,handler:e,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),o.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},function(t){function e(e,n){var o=n.options,r=_.current;switch(e.eventType){case p:clearTimeout(i),r.name=t,i=setTimeout(function(){r&&r.name==t&&n.trigger(t,e)},o.holdTimeout);break;case m:e.distance>o.holdThreshold&&clearTimeout(i);break;case g:clearTimeout(i)}}var i;o.gestures.Hold={name:t,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:e}}("hold"),o.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==g&&e.trigger(this.name,t)}},o.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==g){var i=t.touches.length,n=e.options;if(i<n.swipeMinTouches||i>n.swipeMaxTouches)return;(t.velocityX>n.swipeVelocityX||t.velocityY>n.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},function(t){function e(e,n){var o,r,s=n.options,a=_.current,h=_.previous;switch(e.eventType){case p:i=!1;break;case m:i=i||e.distance>s.tapMaxDistance;break;case f:!y.inStr(e.srcEvent.type,"cancel")&&e.deltaTime<s.tapMaxTime&&!i&&(o=h&&h.lastEvent&&e.timeStamp-h.lastEvent.timeStamp,r=!1,h&&h.name==t&&o&&o<s.doubleTapInterval&&e.distance<s.doubleTapDistance&&(n.trigger("doubletap",e),r=!0),(!r||s.tapAlways)&&(a.name=t,n.trigger(a.name,e)))}}var i=!1;o.gestures.Tap={name:t,index:100,handler:e,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),o.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){return e.options.preventMouse&&t.pointerType==d?void t.stopDetect():(e.options.preventDefault&&t.preventDefault(),void(t.eventType==v&&e.trigger("touch",t)))}},function(t){function e(e,n){switch(e.eventType){case p:i=!1;break;case m:if(e.touches.length<2)return;var o=Math.abs(1-e.scale),r=Math.abs(e.rotation);if(o<n.options.transformMinScale&&r<n.options.transformMinRotation)return;_.current.name=t,i||(n.trigger(t+"start",e),i=!0),n.trigger(t,e),r>n.options.transformMinRotation&&n.trigger("rotate",e),o>n.options.transformMinScale&&(n.trigger("pinch",e),n.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case g:i&&e.changedLength<2&&(n.trigger(t+"end",e),i=!1)}}var i=!1;o.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:e}}("transform"),"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof e&&e.exports?e.exports=o:t.Hammer=o}(window)},{}],36:[function(t,e,i){!function(t,n){"object"==typeof i&&"undefined"!=typeof e?e.exports=n():"function"==typeof define&&define.amd?define(n):t.moment=n()}(this,function(){"use strict";function i(){return Nn.apply(null,arguments)}function n(t){Nn=t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var i in e)a(e,i)&&(t[i]=e[i]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,i,n){return Me(t,e,i,n,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(t){return null==t._pf&&(t._pf=d()),t._pf}function c(t){if(null==t._isValid){var e=l(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function p(t){var e=u(0/0);return null!=t?h(l(e),t):l(e).userInvalidated=!0,e}function m(t,e){var i,n,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=l(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),In.length>0)for(i in In)n=In[i],o=e[n],"undefined"!=typeof o&&(t[n]=o);return t}function f(t){m(this,t),this._d=new Date(+t._d),Yn===!1&&(Yn=!0,i.updateOffset(this),Yn=!1)}function g(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function v(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function y(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;o>n;n++)(i&&t[n]!==e[n]||!i&&v(t[n])!==v(e[n]))&&s++;return s+r}function b(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function _(t){for(var e,i,n,o,r=0;r<t.length;){for(o=w(t[r]).split("-"),e=o.length,i=w(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=D(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&y(o,i,!0)>=e-1)break;e--}r++}return null}function D(i){var n=null;if(!Pn[i]&&"undefined"!=typeof e&&e&&e.exports)try{n=Ln._abbr,t("./locale/"+i),T(n)}catch(o){}return Pn[i]}function T(t,e){var i;return t&&(i="undefined"==typeof e?E(t):S(t,e),i&&(Ln=i)),Ln._abbr}function S(t,e){return null!==e?(e.abbr=t,Pn[t]||(Pn[t]=new b),Pn[t].set(e),T(t),Pn[t]):(delete Pn[t],null)}function E(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ln;if(!o(t)){if(e=D(t))return e;t=[t]}return _(t)}function x(t,e){var i=t.toLowerCase();Rn[i]=Rn[i+"s"]=Rn[e]=t}function M(t){return"string"==typeof t?Rn[t]||Rn[t.toLowerCase()]:void 0}function C(t){var e,i,n={};for(i in t)a(t,i)&&(e=M(i),e&&(n[e]=t[i]));return n}function O(t,e){return function(n){return null!=n?(A(this,t,n),i.updateOffset(this,e),this):k(this,t)}}function k(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function A(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function N(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=M(t),"function"==typeof this[t])return this[t](e);return this}function L(t,e,i){for(var n=""+Math.abs(t),o=t>=0;n.length<e;)n="0"+n;return(o?i?"+":"":"-")+n}function I(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(Gn[t]=o),e&&(Gn[e[0]]=function(){return L(o.apply(this,arguments),e[1],e[2])}),i&&(Gn[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,i,n=t.match(Hn);for(e=0,i=n.length;i>e;e++)n[e]=Gn[n[e]]?Gn[n[e]]:Y(n[e]);return function(o){var r="";for(e=0;i>e;e++)r+=n[e]instanceof Function?n[e].call(o,t):n[e];return r}}function R(t,e){return t.isValid()?(e=H(e,t.localeData()),Wn[e]||(Wn[e]=P(e)),Wn[e](t)):t.localeData().invalidDate()}function H(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Un.lastIndex=0;n>=0&&Un.test(t);)t=t.replace(Un,i),Un.lastIndex=0,n-=1;return t}function U(t,e,i){io[t]="function"==typeof e?e:function(t){return t&&i?i:e}}function W(t,e){return a(io,t)?io[t](e._strict,e._locale):new RegExp(G(t))}function G(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=v(t)}),i=0;i<t.length;i++)no[t[i]]=n}function V(t,e){j(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function z(t,e,i){null!=e&&a(no,t)&&no[t](e,i._a,i,t)}function F(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function B(t){return this._months[t.month()]}function X(t){return this._monthsShort[t.month()]}function q(t,e,i){var n,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=u([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function Z(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),F(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function Q(t){return null!=t?(Z(this,t),i.updateOffset(this,!0),this):k(this,"Month")}function K(){return F(this.year(),this.month())}function $(t){var e,i=t._a;return i&&-2===l(t).overflow&&(e=i[ro]<0||i[ro]>11?ro:i[so]<1||i[so]>F(i[oo],i[ro])?so:i[ao]<0||i[ao]>24||24===i[ao]&&(0!==i[ho]||0!==i[uo]||0!==i[lo])?ao:i[ho]<0||i[ho]>59?ho:i[uo]<0||i[uo]>59?uo:i[lo]<0||i[lo]>999?lo:-1,l(t)._overflowDayOfYear&&(oo>e||e>so)&&(e=so),l(t).overflow=e),t}function J(t){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function te(t,e){var i=!0,n=t+"\n"+(new Error).stack;return h(function(){return i&&(J(n),i=!1),e.apply(this,arguments)},e)}function ee(t,e){mo[t]||(J(e),mo[t]=!0)}function ie(t){var e,i,n=t._i,o=fo.exec(n);if(o){for(l(t).iso=!0,e=0,i=go.length;i>e;e++)if(go[e][1].exec(n)){t._f=go[e][0]+(o[6]||" ");break}for(e=0,i=vo.length;i>e;e++)if(vo[e][1].exec(n)){t._f+=vo[e][0];break}n.match(Jn)&&(t._f+="Z"),_e(t)}else t._isValid=!1}function ne(t){var e=yo.exec(t._i);return null!==e?void(t._d=new Date(+e[1])):(ie(t),void(t._isValid===!1&&(delete t._isValid,i.createFromInputFallback(t))))}function oe(t,e,i,n,o,r,s){var a=new Date(t,e,i,n,o,r,s);return 1970>t&&a.setFullYear(t),a}function re(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function se(t){return ae(t)?366:365}function ae(t){return t%4===0&&t%100!==0||t%400===0}function he(){return ae(this.year())}function ue(t,e,i){var n,o=i-e,r=i-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),n=Ce(t).add(r,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function de(t){return ue(t,this._week.dow,this._week.doy).week}function le(){return this._week.dow}function ce(){return this._week.doy}function pe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function me(t){var e=ue(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function fe(t,e,i,n,o){var r,s,a=re(t,0,1).getUTCDay();return a=0===a?7:a,i=null!=i?i:o,r=o-a+(a>n?7:0)-(o>a?7:0),s=7*(e-1)+(i-o)+r+1,{year:s>0?t:t-1,dayOfYear:s>0?s:se(t-1)+s}}function ge(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function ve(t,e,i){return null!=t?t:null!=e?e:i}function ye(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function be(t){var e,i,n,o,r=[];if(!t._d){for(n=ye(t),t._w&&null==t._a[so]&&null==t._a[ro]&&we(t),t._dayOfYear&&(o=ve(t._a[oo],n[oo]),t._dayOfYear>se(o)&&(l(t)._overflowDayOfYear=!0),i=re(o,0,t._dayOfYear),t._a[ro]=i.getUTCMonth(),t._a[so]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ao]&&0===t._a[ho]&&0===t._a[uo]&&0===t._a[lo]&&(t._nextDay=!0,t._a[ao]=0),t._d=(t._useUTC?re:oe).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ao]=24)}}function we(t){var e,i,n,o,r,s,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,s=4,i=ve(e.GG,t._a[oo],ue(Ce(),1,4).year),n=ve(e.W,1),o=ve(e.E,1)):(r=t._locale._week.dow,s=t._locale._week.doy,i=ve(e.gg,t._a[oo],ue(Ce(),r,s).year),n=ve(e.w,1),null!=e.d?(o=e.d,r>o&&++n):o=null!=e.e?e.e+r:r),a=fe(i,n,o,s,r),t._a[oo]=a.year,t._dayOfYear=a.dayOfYear}function _e(t){if(t._f===i.ISO_8601)return void ie(t);t._a=[],l(t).empty=!0;var e,n,o,r,s,a=""+t._i,h=a.length,u=0;for(o=H(t._f,t._locale).match(Hn)||[],e=0;e<o.length;e++)r=o[e],n=(a.match(W(r,t))||[])[0],n&&(s=a.substr(0,a.indexOf(n)),s.length>0&&l(t).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),u+=n.length),Gn[r]?(n?l(t).empty=!1:l(t).unusedTokens.push(r),z(r,n,t)):t._strict&&!n&&l(t).unusedTokens.push(r);l(t).charsLeftOver=h-u,a.length>0&&l(t).unusedInput.push(a),l(t).bigHour===!0&&t._a[ao]<=12&&t._a[ao]>0&&(l(t).bigHour=void 0),t._a[ao]=De(t._locale,t._a[ao],t._meridiem),be(t),$(t)}function De(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function Te(t){var e,i,n,o,r;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(0/0));for(o=0;o<t._f.length;o++)r=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],_e(e),c(e)&&(r+=l(e).charsLeftOver,r+=10*l(e).unusedTokens.length,l(e).score=r,(null==n||n>r)&&(n=r,i=e));h(t,i||e)}function Se(t){if(!t._d){var e=C(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],be(t)}}function Ee(t){var e,i=t._i,n=t._f;return t._locale=t._locale||E(t._l),null===i||void 0===n&&""===i?p({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),g(i)?new f($(i)):(o(n)?Te(t):n?_e(t):r(i)?t._d=i:xe(t),e=new f($(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function xe(t){var e=t._i;void 0===e?t._d=new Date:r(e)?t._d=new Date(+e):"string"==typeof e?ne(t):o(e)?(t._a=s(e.slice(0),function(t){return parseInt(t,10)}),be(t)):"object"==typeof e?Se(t):"number"==typeof e?t._d=new Date(e):i.createFromInputFallback(t)}function Me(t,e,i,n,o){var r={};return"boolean"==typeof i&&(n=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=i,r._i=t,r._f=e,r._strict=n,Ee(r)}function Ce(t,e,i,n){return Me(t,e,i,n,!1)}function Oe(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Ce();for(i=e[0],n=1;n<e.length;++n)e[n][t](i)&&(i=e[n]);return i}function ke(){var t=[].slice.call(arguments,0);return Oe("isBefore",t)}function Ae(){var t=[].slice.call(arguments,0);return Oe("isAfter",t)}function Ne(t){var e=C(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,h=e.minute||0,u=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*u+6e4*h+36e5*a,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=E(),this._bubble()}function Le(t){return t instanceof Ne}function Ie(t,e){I(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+L(~~(t/60),2)+e+L(~~t%60,2)})}function Ye(t){var e=(t||"").match(Jn)||[],i=e[e.length-1]||[],n=(i+"").match(To)||["-",0,0],o=+(60*n[1])+v(n[2]);return"+"===n[0]?o:-o}function Pe(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(g(t)||r(t)?+t:+Ce(t))-+n,n._d.setTime(+n._d+o),i.updateOffset(n,!1),n):Ce(t).local()}function Re(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function He(t,e){var n,o=this._offset||0;return null!=t?("string"==typeof t&&(t=Ye(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=Re(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!e||this._changeInProgress?ti(this,Ze(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Re(this)}function Ue(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function We(t){return this.utcOffset(0,t)}function Ge(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Re(this),"m")),this}function je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ye(this._i)),this}function Ve(t){return t=t?Ce(t).utcOffset():0,(this.utcOffset()-t)%60===0}function ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Fe(){if(this._a){var t=this._isUTC?u(this._a):Ce(this._a);return this.isValid()&&y(this._a,t.toArray())>0}return!1}function Be(){return!this._isUTC}function Xe(){return this._isUTC}function qe(){return this._isUTC&&0===this._offset}function Ze(t,e){var i,n,o,r=t,s=null;return Le(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(s=So.exec(t))?(i="-"===s[1]?-1:1,r={y:0,d:v(s[so])*i,h:v(s[ao])*i,m:v(s[ho])*i,s:v(s[uo])*i,ms:v(s[lo])*i}):(s=Eo.exec(t))?(i="-"===s[1]?-1:1,r={y:Qe(s[2],i),M:Qe(s[3],i),d:Qe(s[4],i),h:Qe(s[5],i),m:Qe(s[6],i),s:Qe(s[7],i),w:Qe(s[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=$e(Ce(r.from),Ce(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new Ne(r),Le(t)&&a(t,"_locale")&&(n._locale=t._locale),n}function Qe(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ke(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function $e(t,e){var i;return e=Pe(e,t),t.isBefore(e)?i=Ke(t,e):(i=Ke(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Je(t,e){return function(i,n){var o,r;return null===n||isNaN(+n)||(ee(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=Ze(i,n),ti(this,o,t),this}}function ti(t,e,n,o){var r=e._milliseconds,s=e._days,a=e._months;o=null==o?!0:o,r&&t._d.setTime(+t._d+r*n),s&&A(t,"Date",k(t,"Date")+s*n),a&&Z(t,k(t,"Month")+a*n),o&&i.updateOffset(t,s||a)}function ei(t){var e=t||Ce(),i=Pe(e,this).startOf("day"),n=this.diff(i,"days",!0),o=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Ce(e)))}function ii(){return new f(this)}function ni(t,e){var i;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=g(t)?t:Ce(t),+this>+t):(i=g(t)?+t:+Ce(t),i<+this.clone().startOf(e))}function oi(t,e){var i;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=g(t)?t:Ce(t),+t>+this):(i=g(t)?+t:+Ce(t),+this.clone().endOf(e)<i)}function ri(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function si(t,e){var i;return e=M(e||"millisecond"),"millisecond"===e?(t=g(t)?t:Ce(t),+this===+t):(i=+Ce(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function ai(t){return 0>t?Math.ceil(t):Math.floor(t)}function hi(t,e,i){var n,o,r=Pe(t,this),s=6e4*(r.utcOffset()-this.utcOffset());return e=M(e),"year"===e||"month"===e||"quarter"===e?(o=ui(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(n=this-r,o="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-s)/864e5:"week"===e?(n-s)/6048e5:n),i?o:ai(o)}function ui(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return 0>e-r?(i=t.clone().add(o-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(o+1,"months"),n=(e-r)/(i-r)),-(o+n)}function di(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function li(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ci(t){var e=R(this,t||i.defaultFormat);return this.localeData().postformat(e)}function pi(t,e){return this.isValid()?Ze({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mi(t){return this.from(Ce(),t)}function fi(t,e){return this.isValid()?Ze({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function gi(t){return this.to(Ce(),t)}function vi(t){var e;return void 0===t?this._locale._abbr:(e=E(t),null!=e&&(this._locale=e),this)}function yi(){return this._locale}function bi(t){switch(t=M(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function wi(t){return t=M(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function _i(){return+this._d-6e4*(this._offset||0)}function Di(){return Math.floor(+this/1e3)}function Ti(){return this._offset?new Date(+this):this._d}function Si(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ei(){return c(this)}function xi(){return h({},l(this))}function Mi(){return l(this).overflow}function Ci(t,e){I(0,[t,t.length],0,e)}function Oi(t,e,i){return ue(Ce([t,11,31+e-i]),e,i).week}function ki(t){var e=ue(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ai(t){var e=ue(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ni(){return Oi(this.year(),1,4)}function Li(){var t=this.localeData()._week;return Oi(this.year(),t.dow,t.doy)}function Ii(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Yi(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Pi(t){return this._weekdays[t.day()]}function Ri(t){return this._weekdaysShort[t.day()]}function Hi(t){return this._weekdaysMin[t.day()]}function Ui(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=Ce([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Wi(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Yi(t,this.localeData()),this.add(t-e,"d")):e}function Gi(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ji(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Vi(t,e){I(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function zi(t,e){return e._meridiemParse}function Fi(t){return"p"===(t+"").toLowerCase().charAt(0)}function Bi(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Xi(t){I(0,[t,3],0,"millisecond")}function qi(){return this._isUTC?"UTC":""}function Zi(){return this._isUTC?"Coordinated Universal Time":""}function Qi(t){return Ce(1e3*t)}function Ki(){return Ce.apply(null,arguments).parseZone()}function $i(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.call(e,i):n}function Ji(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function tn(){return this._invalidDate}function en(t){return this._ordinal.replace("%d",t)}function nn(t){return t}function on(t,e,i,n){var o=this._relativeTime[i];return"function"==typeof o?o(t,e,i,n):o.replace(/%d/i,t)}function rn(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function sn(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function an(t,e,i,n){var o=E(),r=u().set(n,e);return o[i](r,t)}function hn(t,e,i,n,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return an(t,e,i,o);var r,s=[];for(r=0;n>r;r++)s[r]=an(t,r,i,o);return s}function un(t,e){return hn(t,e,"months",12,"month")}function dn(t,e){return hn(t,e,"monthsShort",12,"month")}function ln(t,e){return hn(t,e,"weekdays",7,"day")}function cn(t,e){return hn(t,e,"weekdaysShort",7,"day")}function pn(t,e){return hn(t,e,"weekdaysMin",7,"day")}function mn(){var t=this._data;return this._milliseconds=Xo(this._milliseconds),this._days=Xo(this._days),this._months=Xo(this._months),t.milliseconds=Xo(t.milliseconds),t.seconds=Xo(t.seconds),t.minutes=Xo(t.minutes),t.hours=Xo(t.hours),t.months=Xo(t.months),t.years=Xo(t.years),this}function fn(t,e,i,n){var o=Ze(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function gn(t,e){return fn(this,t,e,1)}function vn(t,e){return fn(this,t,e,-1)}function yn(){var t,e,i,n=this._milliseconds,o=this._days,r=this._months,s=this._data,a=0;return s.milliseconds=n%1e3,t=ai(n/1e3),s.seconds=t%60,e=ai(t/60),s.minutes=e%60,i=ai(e/60),s.hours=i%24,o+=ai(i/24),a=ai(bn(o)),o-=ai(wn(a)),r+=ai(o/30),o%=30,a+=ai(r/12),r%=12,s.days=o,s.months=r,s.years=a,this}function bn(t){return 400*t/146097}function wn(t){return 146097*t/400}function _n(t){var e,i,n=this._milliseconds;if(t=M(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+12*bn(e),"month"===t?i:i/12;switch(e=this._days+Math.round(wn(this._months/12)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function Dn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Tn(t){return function(){return this.as(t)}}function Sn(t){return t=M(t),this[t+"s"]()}function En(t){return function(){return this._data[t]}}function xn(){return ai(this.days()/7)}function Mn(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function Cn(t,e,i){var n=Ze(t).abs(),o=ur(n.as("s")),r=ur(n.as("m")),s=ur(n.as("h")),a=ur(n.as("d")),h=ur(n.as("M")),u=ur(n.as("y")),d=o<dr.s&&["s",o]||1===r&&["m"]||r<dr.m&&["mm",r]||1===s&&["h"]||s<dr.h&&["hh",s]||1===a&&["d"]||a<dr.d&&["dd",a]||1===h&&["M"]||h<dr.M&&["MM",h]||1===u&&["y"]||["yy",u];return d[2]=e,d[3]=+t>0,d[4]=i,Mn.apply(null,d)}function On(t,e){return void 0===dr[t]?!1:void 0===e?dr[t]:(dr[t]=e,!0)}function kn(t){var e=this.localeData(),i=Cn(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function An(){var t=lr(this.years()),e=lr(this.months()),i=lr(this.days()),n=lr(this.hours()),o=lr(this.minutes()),r=lr(this.seconds()+this.milliseconds()/1e3),s=this.asSeconds();return s?(0>s?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||o||r?"T":"")+(n?n+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}var Nn,Ln,In=i.momentProperties=[],Yn=!1,Pn={},Rn={},Hn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Un=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wn={},Gn={},jn=/\d/,Vn=/\d\d/,zn=/\d{3}/,Fn=/\d{4}/,Bn=/[+-]?\d{6}/,Xn=/\d\d?/,qn=/\d{1,3}/,Zn=/\d{1,4}/,Qn=/[+-]?\d{1,6}/,Kn=/\d+/,$n=/[+-]?\d+/,Jn=/Z|[+-]\d\d:?\d\d/gi,to=/[+-]?\d+(\.\d{1,3})?/,eo=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,io={},no={},oo=0,ro=1,so=2,ao=3,ho=4,uo=5,lo=6;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),I("MMMM",0,0,function(t){return this.localeData().months(this,t)}),x("month","M"),U("M",Xn),U("MM",Xn,Vn),U("MMM",eo),U("MMMM",eo),j(["M","MM"],function(t,e){e[ro]=v(t)-1}),j(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[ro]=o:l(i).invalidMonth=t});var co="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),po="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mo={};i.suppressDeprecationWarnings=!1;var fo=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,go=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],vo=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yo=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=te("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),x("year","y"),U("Y",$n),U("YY",Xn,Vn),U("YYYY",Zn,Fn),U("YYYYY",Qn,Bn),U("YYYYYY",Qn,Bn),j(["YYYY","YYYYY","YYYYYY"],oo),j("YY",function(t,e){e[oo]=i.parseTwoDigitYear(t)}),i.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var bo=O("FullYear",!1);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),U("w",Xn),U("ww",Xn,Vn),U("W",Xn),U("WW",Xn,Vn),V(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=v(t)});var wo={dow:0,doy:6};I("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),U("DDD",qn),U("DDDD",zn),j(["DDD","DDDD"],function(t,e,i){i._dayOfYear=v(t)}),i.ISO_8601=function(){};var _o=te("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ce.apply(null,arguments);return this>t?this:t}),Do=te("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ce.apply(null,arguments);return t>this?this:t});Ie("Z",":"),Ie("ZZ",""),U("Z",Jn),U("ZZ",Jn),j(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ye(t)});var To=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};var So=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Eo=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Ze.fn=Ne.prototype;var xo=Je(1,"add"),Mo=Je(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Co=te("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ci("gggg","weekYear"),Ci("ggggg","weekYear"),Ci("GGGG","isoWeekYear"),Ci("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),U("G",$n),U("g",$n),U("GG",Xn,Vn),U("gg",Xn,Vn),U("GGGG",Zn,Fn),U("gggg",Zn,Fn),U("GGGGG",Qn,Bn),U("ggggg",Qn,Bn),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=v(t)}),V(["gg","GG"],function(t,e,n,o){e[o]=i.parseTwoDigitYear(t)}),I("Q",0,0,"quarter"),x("quarter","Q"),U("Q",jn),j("Q",function(t,e){e[ro]=3*(v(t)-1)}),I("D",["DD",2],"Do","date"),x("date","D"),U("D",Xn),U("DD",Xn,Vn),U("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),j(["D","DD"],so),j("Do",function(t,e){e[so]=v(t.match(Xn)[0],10)});var Oo=O("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),I("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),I("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),U("d",Xn),U("e",Xn),U("E",Xn),U("dd",eo),U("ddd",eo),U("dddd",eo),V(["dd","ddd","dddd"],function(t,e,i){var n=i._locale.weekdaysParse(t);null!=n?e.d=n:l(i).invalidWeekday=t}),V(["d","e","E"],function(t,e,i,n){e[n]=v(t)});var ko="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ao="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),No="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("H",["HH",2],0,"hour"),I("h",["hh",2],0,function(){return this.hours()%12||12}),Vi("a",!0),Vi("A",!1),x("hour","h"),U("a",zi),U("A",zi),U("H",Xn),U("h",Xn),U("HH",Xn,Vn),U("hh",Xn,Vn),j(["H","HH"],ao),j(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),j(["h","hh"],function(t,e,i){e[ao]=v(t),l(i).bigHour=!0});var Lo=/[ap]\.?m?\.?/i,Io=O("Hours",!0);I("m",["mm",2],0,"minute"),x("minute","m"),U("m",Xn),U("mm",Xn,Vn),j(["m","mm"],ho);var Yo=O("Minutes",!1);I("s",["ss",2],0,"second"),x("second","s"),U("s",Xn),U("ss",Xn,Vn),j(["s","ss"],uo);var Po=O("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Xi("SSS"),Xi("SSSS"),x("millisecond","ms"),U("S",qn,jn),U("SS",qn,Vn),U("SSS",qn,zn),U("SSSS",Kn),j(["S","SS","SSS","SSSS"],function(t,e){e[lo]=v(1e3*("0."+t))});var Ro=O("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Ho=f.prototype;Ho.add=xo,Ho.calendar=ei,Ho.clone=ii,Ho.diff=hi,Ho.endOf=wi,Ho.format=ci,Ho.from=pi,Ho.fromNow=mi,Ho.to=fi,Ho.toNow=gi,Ho.get=N,Ho.invalidAt=Mi,Ho.isAfter=ni,Ho.isBefore=oi,Ho.isBetween=ri,Ho.isSame=si,Ho.isValid=Ei,Ho.lang=Co,Ho.locale=vi,Ho.localeData=yi,Ho.max=Do,Ho.min=_o,Ho.parsingFlags=xi,Ho.set=N,Ho.startOf=bi,Ho.subtract=Mo,Ho.toArray=Si,Ho.toDate=Ti,Ho.toISOString=li,Ho.toJSON=li,Ho.toString=di,Ho.unix=Di,Ho.valueOf=_i,Ho.year=bo,Ho.isLeapYear=he,Ho.weekYear=ki,Ho.isoWeekYear=Ai,Ho.quarter=Ho.quarters=Ii,Ho.month=Q,Ho.daysInMonth=K,Ho.week=Ho.weeks=pe,Ho.isoWeek=Ho.isoWeeks=me,Ho.weeksInYear=Li,Ho.isoWeeksInYear=Ni,Ho.date=Oo,Ho.day=Ho.days=Wi,Ho.weekday=Gi,Ho.isoWeekday=ji,Ho.dayOfYear=ge,Ho.hour=Ho.hours=Io,Ho.minute=Ho.minutes=Yo,Ho.second=Ho.seconds=Po,Ho.millisecond=Ho.milliseconds=Ro,Ho.utcOffset=He,Ho.utc=We,Ho.local=Ge,Ho.parseZone=je,Ho.hasAlignedHourOffset=Ve,Ho.isDST=ze,Ho.isDSTShifted=Fe,Ho.isLocal=Be,Ho.isUtcOffset=Xe,Ho.isUtc=qe,Ho.isUTC=qe,Ho.zoneAbbr=qi,Ho.zoneName=Zi,Ho.dates=te("dates accessor is deprecated. Use date instead.",Oo),Ho.months=te("months accessor is deprecated. Use month instead",Q),Ho.years=te("years accessor is deprecated. Use year instead",bo),Ho.zone=te("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ue);var Uo=Ho,Wo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Go={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},jo="Invalid date",Vo="%d",zo=/\d{1,2}/,Fo={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bo=b.prototype;Bo._calendar=Wo,Bo.calendar=$i,Bo._longDateFormat=Go,Bo.longDateFormat=Ji,Bo._invalidDate=jo,Bo.invalidDate=tn,Bo._ordinal=Vo,Bo.ordinal=en,Bo._ordinalParse=zo,Bo.preparse=nn,Bo.postformat=nn,Bo._relativeTime=Fo,Bo.relativeTime=on,Bo.pastFuture=rn,Bo.set=sn,Bo.months=B,Bo._months=co,Bo.monthsShort=X,Bo._monthsShort=po,Bo.monthsParse=q,Bo.week=de,Bo._week=wo,Bo.firstDayOfYear=ce,Bo.firstDayOfWeek=le,Bo.weekdays=Pi,Bo._weekdays=ko,Bo.weekdaysMin=Hi,Bo._weekdaysMin=No,Bo.weekdaysShort=Ri,Bo._weekdaysShort=Ao,Bo.weekdaysParse=Ui,Bo.isPM=Fi,Bo._meridiemParse=Lo,Bo.meridiem=Bi,T("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),i.lang=te("moment.lang is deprecated. Use moment.locale instead.",T),i.langData=te("moment.langData is deprecated. Use moment.localeData instead.",E);var Xo=Math.abs,qo=Tn("ms"),Zo=Tn("s"),Qo=Tn("m"),Ko=Tn("h"),$o=Tn("d"),Jo=Tn("w"),tr=Tn("M"),er=Tn("y"),ir=En("milliseconds"),nr=En("seconds"),or=En("minutes"),rr=En("hours"),sr=En("days"),ar=En("months"),hr=En("years"),ur=Math.round,dr={s:45,m:45,h:22,d:26,M:11},lr=Math.abs,cr=Ne.prototype;cr.abs=mn,cr.add=gn,cr.subtract=vn,cr.as=_n,cr.asMilliseconds=qo,cr.asSeconds=Zo,cr.asMinutes=Qo,cr.asHours=Ko,cr.asDays=$o,cr.asWeeks=Jo,cr.asMonths=tr,cr.asYears=er,cr.valueOf=Dn,cr._bubble=yn,cr.get=Sn,cr.milliseconds=ir,cr.seconds=nr,cr.minutes=or,cr.hours=rr,cr.days=sr,cr.weeks=xn,cr.months=ar,cr.years=hr,cr.humanize=kn,cr.toISOString=An,cr.toString=An,cr.toJSON=An,cr.locale=vi,cr.localeData=yi,cr.toIsoString=te("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",An),cr.lang=Co,I("X",0,0,"unix"),I("x",0,0,"valueOf"),U("x",$n),U("X",to),j("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),j("x",function(t,e,i){i._d=new Date(v(t))}),i.version="2.10.3",n(Ce),i.fn=Uo,i.min=ke,i.max=Ae,i.utc=u,i.unix=Qi,i.months=un,i.isDate=r,i.locale=T,i.invalid=p,i.duration=Ze,i.isMoment=g,i.weekdays=ln,i.parseZone=Ki,i.localeData=E,i.isDuration=Le,i.monthsShort=dn,i.weekdaysMin=pn,i.defineLocale=S,i.weekdaysShort=cn,i.normalizeUnits=M,i.relativeTimeThreshold=On;var pr=i;return pr})},{}],37:[function(t,e){function i(t,e,i){return t.addEventListener?t.addEventListener(e,i,!1):void t.attachEvent("on"+e,i)}function n(t){return"keypress"==t.type?String.fromCharCode(t.which):_[t.which]?_[t.which]:D[t.which]?D[t.which]:String.fromCharCode(t.which).toLowerCase()}function o(t){var e=t.target||t.srcElement,i=e.tagName;return(" "+e.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==i||"SELECT"==i||"TEXTAREA"==i||e.contentEditable&&"true"==e.contentEditable}function r(t,e){return t.sort().join(",")===e.sort().join(",")}function s(t){t=t||{};var e,i=!1;for(e in M)t[e]?i=!0:M[e]=0;i||(O=!1)}function a(t,e,i,n,o){var s,a,h=[];if(!E[t])return[];for("keyup"==i&&c(t)&&(e=[t]),s=0;s<E[t].length;++s)a=E[t][s],a.seq&&M[a.seq]!=a.level||i==a.action&&("keypress"==i||r(e,a.modifiers))&&(n&&a.combo==o&&E[t].splice(s,1),h.push(a));return h}function h(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function u(t,e){t(e)===!1&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,e.cancelBubble=!0)}function d(t,e){if(!o(e)){var i,n=a(t,h(e),e.type),r={},d=!1;for(i=0;i<n.length;++i)n[i].seq?(d=!0,r[n[i].seq]=1,u(n[i].callback,e)):d||O||u(n[i].callback,e);e.type!=O||c(t)||s(r)}}function l(t){t.which="number"==typeof t.which?t.which:t.keyCode;var e=n(t);if(e)return"keyup"==t.type&&C==e?void(C=!1):void d(e,t)}function c(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function p(){clearTimeout(w),w=setTimeout(s,1e3)}function m(){if(!b){b={};for(var t in _)t>95&&112>t||_.hasOwnProperty(t)&&(b[_[t]]=t)}return b}function f(t,e,i){return i||(i=m()[t]?"keydown":"keypress"),"keypress"==i&&e.length&&(i="keydown"),i}function g(t,e,i,o){M[t]=0,o||(o=f(e[0],[]));var r,a=function(){O=o,++M[t],p()},h=function(t){u(i,t),"keyup"!==o&&(C=n(t)),setTimeout(s,10)};for(r=0;r<e.length;++r)v(e[r],r<e.length-1?a:h,o,t,r)}function v(t,e,i,n,o){t=t.replace(/\s+/g," ");var r,s,h,u=t.split(" "),d=[];if(u.length>1)return g(t,u,e,i);for(h="+"===t?["+"]:t.split("+"),r=0;r<h.length;++r)s=h[r],S[s]&&(s=S[s]),i&&"keypress"!=i&&T[s]&&(s=T[s],d.push("shift")),c(s)&&d.push(s);i=f(s,d,i),E[s]||(E[s]=[]),a(s,d,i,!n,t),E[s][n?"unshift":"push"]({callback:e,modifiers:d,action:i,seq:n,level:o,combo:t})}function y(t,e,i){for(var n=0;n<t.length;++n)v(t[n],e,i)}for(var b,w,_={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},D={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},S={option:"alt",command:"meta","return":"enter",escape:"esc"},E={},x={},M={},C=!1,O=!1,k=1;20>k;++k)_[111+k]="f"+k;for(k=0;9>=k;++k)_[k+96]=k;i(document,"keypress",l),i(document,"keydown",l),i(document,"keyup",l);var A={bind:function(t,e,i){return y(t instanceof Array?t:[t],e,i),x[t+":"+i]=e,this},unbind:function(t,e){return x[t+":"+e]&&(delete x[t+":"+e],this.bind(t,function(){},e)),this},trigger:function(t,e){return x[t+":"+e](),this},reset:function(){return E={},x={},this}};e.exports=A},{}]},{},[1])(1)});